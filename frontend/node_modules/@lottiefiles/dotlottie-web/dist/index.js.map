{"version":3,"sources":["../src/animation-frame-manager.ts","../src/constants.ts","../package.json","../src/core/dotlottie-player.js","../src/core/dotlottie-wasm-loader.ts","../src/event-manager.ts","../src/dotlottie.ts"],"names":["WebAnimationFrameStrategy","callback","id","NodeAnimationFrameStrategy","__publicField","_id","AnimationFrameManager","IS_BROWSER","package_default","createDotLottiePlayerModule","_scriptDir","moduleArg","Module","readyPromiseResolve","readyPromiseReject","readyPromise","resolve","reject","moduleOverrides","arguments_","thisProgram","quit_","status","toThrow","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","scriptDirectory","locateFile","path","read_","readAsync","readBinary","url","xhr","onload","onerror","out","err","wasmBinary","wasmMemory","ABORT","EXITSTATUS","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAPF32","HEAPF64","updateMemoryViews","b","__ATPRERUN__","__ATINIT__","__ATPOSTRUN__","runtimeInitialized","preRun","addOnPreRun","callRuntimeCallbacks","initRuntime","postRun","addOnPostRun","cb","addOnInit","runDependencies","runDependencyWatcher","dependenciesFulfilled","addRunDependency","removeRunDependency","abort","what","e","dataURIPrefix","isDataURI","filename","wasmBinaryFile","getBinarySync","file","getBinaryPromise","binaryFile","response","instantiateArrayBuffer","imports","receiver","binary","reason","instantiateAsync","result","createWasm","info","wasmImports","receiveInstance","instance","module","wasmExports","wasmTable","receiveInstantiationResult","callbacks","noExitRuntime","stackRestore","val","__emscripten_stack_restore","stackSave","_emscripten_stack_get_current","UTF8Decoder","UTF8ArrayToString","heapOrArray","idx","maxBytesToRead","endIdx","endPtr","str","u0","u1","u2","ch","UTF8ToString","ptr","___assert_fail","condition","line","func","exceptionLast","ExceptionInfo","excPtr","type","destructor","caught","rethrown","adjustedPtr","isPointer","___cxa_is_pointer_type","adjusted","___resumeException","setTempRet0","__emscripten_tempret_set","findMatchingCatch","args","thrown","thrownType","arg","caughtType","adjusted_ptr_addr","___cxa_can_catch","___cxa_find_matching_catch_2","uncaughtExceptionCount","___cxa_throw","SYSCALLS","ret","___syscall_fcntl64","fd","cmd","varargs","___syscall_fstat64","buf","lengthBytesUTF8","len","i","c","stringToUTF8Array","heap","outIdx","maxBytesToWrite","startIdx","u","stringToUTF8","outPtr","___syscall_getcwd","size","___syscall_ioctl","op","___syscall_newfstatat","dirfd","flags","___syscall_openat","___syscall_stat64","structRegistrations","runDestructors","destructors","del","readPointer","pointer","awaitingDependencies","registeredTypes","typeDependencies","InternalError","throwInternalError","message","whenDependentTypesAreResolved","myTypes","dependentTypes","getTypeConverters","onComplete","typeConverters","myTypeConverters","registerType","unregisteredTypes","registered","dt","__embind_finalize_value_object","structType","reg","rawConstructor","rawDestructor","fieldRecords","fieldTypes","field","fields","fieldName","getterReturnType","getter","getterContext","setterArgumentType","setter","setterContext","o","rv","GenericWireTypeSize","__embind_register_bigint","primitiveType","name","minRange","maxRange","embind_init_charCodes","codes","embind_charCodes","readLatin1String","BindingError","throwBindingError","sharedRegisterType","rawType","registeredInstance","options","__embind_register_bool","trueValue","falseValue","wt","shallowCopyInternalPointer","throwInstanceAlreadyDeleted","obj","getInstanceTypeName","handle","finalizationRegistry","detachFinalizer","runDestructor","$$","releaseClassHandle","toDelete","downcastPointer","ptrClass","desiredClass","registeredPointers","getInheritedInstanceCount","registeredInstances","getLiveInheritedInstances","k","deletionQueue","flushPendingDeletes","delayFunction","setDelayFunction","fn","init_embind","getBasestPointer","class_","getInheritedInstance","makeClassHandle","prototype","record","hasSmartPtrType","hasSmartPtr","attachFinalizer","RegisteredPointer_fromWireType","rawPointer","makeDefaultHandle","actualType","registeredPointerRecord","toType","dp","init_ClassHandle","ClassHandle","other","leftClass","left","rightClass","right","clone","createNamedFunction","body","ensureOverloadTable","proto","methodName","humanName","prevFunc","exposePublicSymbol","value","numArguments","char_0","char_9","makeLegalFunctionName","f","RegisteredClass","constructor","instancePrototype","baseClass","getActualType","upcast","downcast","upcastPointer","constNoSmartPtrRawPointerToWireType","embindRepr","handleClass","genericPointerToWireType","clonedHandle","Emval","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","registeredClass","isReference","isConst","isSmartPointer","pointeeType","sharingPolicy","rawGetPointee","rawShare","replacePublicSymbol","dynCallLegacy","sig","getWasmTableEntry","funcPtr","dynCall","rtn","getDynCaller","embind__requireFunction","signature","rawFunction","makeDynCaller","fp","extendError","baseErrorType","errorName","errorClass","stack","UnboundTypeError","getTypeName","___getTypeName","_free","throwUnboundTypeError","types","unboundTypes","seen","visit","__embind_register_class","rawPointerType","rawConstPointerType","baseClassRawType","getActualTypeSignature","upcastSignature","downcastSignature","destructorSignature","legalFunctionName","base","_a","basePrototype","referenceConverter","pointerConverter","constPointerConverter","heap32VectorToArray","count","firstElement","array","usesDestructorStack","argTypes","craftInvokerFunction","classType","cppInvokerFunc","cppTargetFunc","isAsync","argCount","isClassMethodFunc","needsDestructorStack","returns","expectedArgCount","argsWired","invokerFuncArgs","invokerFn","thisWired","onDone","param","__embind_register_class_constructor","rawClassType","rawArgTypesAddr","invokerSignature","invoker","rawArgTypes","getFunctionName","argsIndex","__embind_register_class_function","rawInvoker","context","isPureVirtual","unboundTypesHandler","method","memberFunction","emval_freelist","emval_handles","__emval_decref","count_emval_handles","init_emval","EmValType","__embind_register_emval","enumReadValueFromPointer","width","signed","__embind_register_enum","isSigned","ctor","requireRegisteredType","impl","__embind_register_enum_value","rawEnumType","enumValue","enumType","Enum","Value","v","floatReadValueFromPointer","__embind_register_float","__embind_register_function","invokerArgsArray","integerReadValueFromPointer","__embind_register_integer","fromWireType","bitshift","isUnsignedType","checkAssertions","toTypeName","toWireType","__embind_register_memory_view","dataTypeIndex","typeMapping","TA","decodeMemoryView","data","__embind_register_optional","rawOptionalType","__embind_register_smart_ptr","rawPointeeType","getPointeeSignature","constructorSignature","shareSignature","registeredPointer","__embind_register_std_string","stdStringIsUTF8","length","payload","decodeStartPtr","currentBytePtr","maxRead","stringSegment","a","valueIsOfTypeString","_malloc","charCode","UTF16Decoder","UTF16ToString","maxIdx","codeUnit","stringToUTF16","startPtr","numCharsToWrite","lengthBytesUTF16","UTF32ToString","utf32","stringToUTF32","trailSurrogate","lengthBytesUTF32","__embind_register_std_wstring","charSize","decodeString","encodeString","readCharAt","lengthBytesUTF","maxReadBytes","__embind_register_value_object","__embind_register_value_object_field","getterSignature","setterSignature","__embind_register_void","__emscripten_memcpy_js","dest","src","num","__emscripten_throw_longjmp","emval_methodCallers","__emval_call","caller","destructorsRef","emval_addMethodCaller","emval_lookupTypes","reflectConstruct","emval_returnValue","returnType","__emval_get_method_caller","kind","retType","argN","invokerFunction","offset","functionName","t","__emval_incref","__emval_run_destructors","__emval_take_value","_abort","_emscripten_get_now","getHeapMax","growMemory","pages","_emscripten_resize_heap","requestedSize","oldSize","maxHeapSize","alignUp","x","multiple","cutDown","overGrownHeapSize","newSize","replacement","ENV","getExecutableName","getEnvStrings","lang","env","strings","stringToAscii","buffer","_environ_get","__environ","environ_buf","bufSize","string","_environ_sizes_get","penviron_count","penviron_buf_size","_fd_close","_fd_read","iov","iovcnt","pnum","convertI32PairToI53Checked","lo","hi","_fd_seek","offset_low","offset_high","whence","newOffset","printCharBuffers","printChar","stream","curr","_fd_write","j","initRandomFill","view","randomFill","_getentropy","isLeapYear","year","arraySum","index","sum","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR","addDays","date","days","newDate","leap","currentMonth","daysInCurrentMonth","intArrayFromString","stringy","dontAddNull","u8array","numBytesWritten","writeArrayToMemory","_strftime","s","maxsize","format","tm","tm_zone","pattern","EXPANSION_RULES_1","rule","WEEKDAYS","MONTHS","leadingSomething","digits","character","leadingNulls","compareByDay","date1","date2","sgn","compare","getFirstWeekStartDate","janFourth","getWeekBasedYear","thisDate","janFourthThisYear","janFourthNextYear","firstWeekStartThisYear","firstWeekStartNextYear","EXPANSION_RULES_2","twelveHour","jan1","dec31","off","ahead","bytes","_strftime_l","loc","invoke_ii","invoke_iii","invoke_iiii","invoke_iiiii","invoke_iiiiii","invoke_iiiiiiii","invoke_v","invoke_vi","invoke_vii","invoke_viii","invoke_viiii","invoke_viiiii","invoke_viiiiii","invoke_viiij","___wasm_call_ctors","a0","_htonl","_htons","_ntohs","_setThrew","a1","__emscripten_stack_alloc","___cxa_increment_exception_refcount","a2","dynCall_iijj","a3","a4","a5","dynCall_vijj","dynCall_jiii","dynCall_jii","dynCall_viiij","dynCall_jiji","dynCall_viijii","a6","dynCall_iiiiij","dynCall_iiiiijj","a7","a8","dynCall_iiiiiijj","a9","sp","calledRun","runCaller","run","doRun","dotlottie_player_default","DotLottieWasmLoader","initialError","backupUrl","backupError","EventManager","listener","listeners","event","createCoreMode","mode","createCoreFit","fit","createCoreAlign","align","coreAlign","createCoreSegment","segment","coresegment","DotLottie","config","error","load","contentType","height","loaded","layout","manifest","manifestJson","clampedBuffer","imageData","nextFrame","ok","frame","speed","color","loop","useFrameInterpolation","dpr","clientHeight","clientWidth","startFrame","endFrame","animationId","marker","markers","themeId","themeData","y","stateMachineId","started","stopped","rect","scaleX","scaleY","devicePixelRatio","listenersVector"],"mappings":"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","sourcesContent":["/* eslint-disable max-classes-per-file */\n\ninterface AnimationFrameStrategy {\n  cancelAnimationFrame(id: number): void;\n  requestAnimationFrame(callback: (time: number) => void): number;\n}\n\nclass WebAnimationFrameStrategy implements AnimationFrameStrategy {\n  public requestAnimationFrame(callback: (time: number) => void): number {\n    return requestAnimationFrame(callback);\n  }\n\n  public cancelAnimationFrame(id: number): void {\n    cancelAnimationFrame(id);\n  }\n}\n\nclass NodeAnimationFrameStrategy implements AnimationFrameStrategy {\n  private _lastHandleId: number = 0;\n\n  private _lastImmediate: NodeJS.Immediate | null = null;\n\n  public requestAnimationFrame(callback: (time: number) => void): number {\n    if (this._lastHandleId >= Number.MAX_SAFE_INTEGER) {\n      this._lastHandleId = 0;\n    }\n\n    this._lastHandleId += 1;\n\n    this._lastImmediate = setImmediate(() => {\n      callback(Date.now());\n    });\n\n    return this._lastHandleId;\n  }\n\n  public cancelAnimationFrame(_id: number): void {\n    if (this._lastImmediate) {\n      clearImmediate(this._lastImmediate);\n    }\n  }\n}\n\nexport class AnimationFrameManager {\n  private readonly _strategy: AnimationFrameStrategy;\n\n  public constructor() {\n    this._strategy =\n      typeof requestAnimationFrame === 'function' ? new WebAnimationFrameStrategy() : new NodeAnimationFrameStrategy();\n  }\n\n  public requestAnimationFrame(callback: (time: number) => void): number {\n    return this._strategy.requestAnimationFrame(callback);\n  }\n\n  public cancelAnimationFrame(id: number): void {\n    this._strategy.cancelAnimationFrame(id);\n  }\n}\n","export const IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nexport const MS_TO_SEC_FACTOR = 1000;\nexport const DEFAULT_BG_COLOR = '#00000000';\n","{\n  \"name\": \"@lottiefiles/dotlottie-web\",\n  \"version\": \"0.25.0\",\n  \"type\": \"module\",\n  \"description\": \"Lottie and DotLottie player for the web\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/LottieFiles/dotlottie-web.git\",\n    \"directory\": \"packages/web\"\n  },\n  \"homepage\": \"https://github.com/LottieFiles/dotlottie-web#readme\",\n  \"bugs\": \"https://github.com/LottieFiles/dotlottie-web/issues\",\n  \"author\": \"LottieFiles\",\n  \"contributors\": [\n    \"Abdelrahman Ashraf <a.theashraf@gmail.com>\"\n  ],\n  \"license\": \"MIT\",\n  \"main\": \"dist/index.cjs\",\n  \"module\": \"dist/index.js\",\n  \"types\": \"dist/index.d.ts\",\n  \"files\": [\n    \"dist\"\n  ],\n  \"keywords\": [\n    \"dotlottie\",\n    \"lottie\",\n    \"player\",\n    \"animation\",\n    \"web\",\n    \"canvas\",\n    \"javascript\",\n    \"thorvg\"\n  ],\n  \"scripts\": {\n    \"build\": \"tsup\",\n    \"dev\": \"tsup --watch\",\n    \"lint\": \"eslint --fix .\",\n    \"stats:eslint\": \"cross-env TIMING=1 eslint .\",\n    \"stats:ts\": \"tsc -p tsconfig.build.json --extendedDiagnostics\",\n    \"test\": \"vitest run --browser.headless\",\n    \"test:coverage\": \"vitest run --browser.headless --coverage\",\n    \"test:watch\": \"vitest\",\n    \"type-check\": \"tsc --noEmit\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^20.10.5\",\n    \"@vitest/browser\": \"^1.2.2 \",\n    \"@vitest/coverage-istanbul\": \"^1.2.2\",\n    \"cross-env\": \"7.0.3\",\n    \"tsup\": \"8.0.1\",\n    \"typescript\": \"5.0.4\",\n    \"vitest\": \"^1.2.2\",\n    \"webdriverio\": \"^8.32.0\"\n  },\n  \"publishConfig\": {\n    \"access\": \"public\"\n  }\n}\n","var createDotLottiePlayerModule = (() => {\n  var _scriptDir = typeof document != 'undefined' ? document.currentScript?.src : undefined;\n\n  return function (moduleArg = {}) {\n    var Module = moduleArg;\n\n    var readyPromiseResolve, readyPromiseReject;\n\n    var readyPromise = new Promise((resolve, reject) => {\n      readyPromiseResolve = resolve;\n      readyPromiseReject = reject;\n    });\n\n    var moduleOverrides = Object.assign({}, Module);\n\n    var arguments_ = [];\n\n    var thisProgram = './this.program';\n\n    var quit_ = (status, toThrow) => {\n      throw toThrow;\n    };\n\n    var ENVIRONMENT_IS_WEB = true;\n\n    var ENVIRONMENT_IS_WORKER = false;\n\n    var scriptDirectory = '';\n\n    function locateFile(path) {\n      if (Module['locateFile']) {\n        return Module['locateFile'](path, scriptDirectory);\n      }\n      return scriptDirectory + path;\n    }\n\n    var read_, readAsync, readBinary;\n\n    if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\n      if (ENVIRONMENT_IS_WORKER) {\n        scriptDirectory = self.location.href;\n      } else if (typeof document != 'undefined' && document.currentScript) {\n        scriptDirectory = document.currentScript.src;\n      }\n      if (_scriptDir) {\n        scriptDirectory = _scriptDir;\n      }\n      if (scriptDirectory.startsWith('blob:')) {\n        scriptDirectory = '';\n      } else {\n        scriptDirectory = scriptDirectory.substr(0, scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1);\n      }\n      {\n        read_ = (url) => {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', url, false);\n          xhr.send(null);\n          return xhr.responseText;\n        };\n        if (ENVIRONMENT_IS_WORKER) {\n          readBinary = (url) => {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url, false);\n            xhr.responseType = 'arraybuffer';\n            xhr.send(null);\n            return new Uint8Array(/** @type{!ArrayBuffer} */ (xhr.response));\n          };\n        }\n        readAsync = (url, onload, onerror) => {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', url, true);\n          xhr.responseType = 'arraybuffer';\n          xhr.onload = () => {\n            if (xhr.status == 200 || (xhr.status == 0 && xhr.response)) {\n              onload(xhr.response);\n              return;\n            }\n            onerror();\n          };\n          xhr.onerror = onerror;\n          xhr.send(null);\n        };\n      }\n    } else {\n    }\n\n    var out = Module['print'] || console.log.bind(console);\n\n    var err = Module['printErr'] || console.error.bind(console);\n\n    Object.assign(Module, moduleOverrides);\n\n    moduleOverrides = null;\n\n    if (Module['arguments']) arguments_ = Module['arguments'];\n\n    if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n\n    if (Module['quit']) quit_ = Module['quit'];\n\n    var wasmBinary;\n\n    if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n\n    var wasmMemory;\n\n    var ABORT = false;\n\n    var EXITSTATUS;\n\n    var /** @type {!Int8Array} */ HEAP8,\n      /** @type {!Uint8Array} */ HEAPU8,\n      /** @type {!Int16Array} */ HEAP16,\n      /** @type {!Uint16Array} */ HEAPU16,\n      /** @type {!Int32Array} */ HEAP32,\n      /** @type {!Uint32Array} */ HEAPU32,\n      /** @type {!Float32Array} */ HEAPF32,\n      /** @type {!Float64Array} */ HEAPF64;\n\n    function updateMemoryViews() {\n      var b = wasmMemory.buffer;\n      Module['HEAP8'] = HEAP8 = new Int8Array(b);\n      Module['HEAP16'] = HEAP16 = new Int16Array(b);\n      Module['HEAPU8'] = HEAPU8 = new Uint8Array(b);\n      Module['HEAPU16'] = HEAPU16 = new Uint16Array(b);\n      Module['HEAP32'] = HEAP32 = new Int32Array(b);\n      Module['HEAPU32'] = HEAPU32 = new Uint32Array(b);\n      Module['HEAPF32'] = HEAPF32 = new Float32Array(b);\n      Module['HEAPF64'] = HEAPF64 = new Float64Array(b);\n    }\n\n    var __ATPRERUN__ = [];\n\n    var __ATINIT__ = [];\n\n    var __ATPOSTRUN__ = [];\n\n    var runtimeInitialized = false;\n\n    function preRun() {\n      if (Module['preRun']) {\n        if (typeof Module['preRun'] == 'function') Module['preRun'] = [Module['preRun']];\n        while (Module['preRun'].length) {\n          addOnPreRun(Module['preRun'].shift());\n        }\n      }\n      callRuntimeCallbacks(__ATPRERUN__);\n    }\n\n    function initRuntime() {\n      runtimeInitialized = true;\n      callRuntimeCallbacks(__ATINIT__);\n    }\n\n    function postRun() {\n      if (Module['postRun']) {\n        if (typeof Module['postRun'] == 'function') Module['postRun'] = [Module['postRun']];\n        while (Module['postRun'].length) {\n          addOnPostRun(Module['postRun'].shift());\n        }\n      }\n      callRuntimeCallbacks(__ATPOSTRUN__);\n    }\n\n    function addOnPreRun(cb) {\n      __ATPRERUN__.unshift(cb);\n    }\n\n    function addOnInit(cb) {\n      __ATINIT__.unshift(cb);\n    }\n\n    function addOnPostRun(cb) {\n      __ATPOSTRUN__.unshift(cb);\n    }\n\n    var runDependencies = 0;\n\n    var runDependencyWatcher = null;\n\n    var dependenciesFulfilled = null;\n\n    function addRunDependency(id) {\n      runDependencies++;\n      Module['monitorRunDependencies']?.(runDependencies);\n    }\n\n    function removeRunDependency(id) {\n      runDependencies--;\n      Module['monitorRunDependencies']?.(runDependencies);\n      if (runDependencies == 0) {\n        if (runDependencyWatcher !== null) {\n          clearInterval(runDependencyWatcher);\n          runDependencyWatcher = null;\n        }\n        if (dependenciesFulfilled) {\n          var callback = dependenciesFulfilled;\n          dependenciesFulfilled = null;\n          callback();\n        }\n      }\n    }\n\n    /** @param {string|number=} what */ function abort(what) {\n      Module['onAbort']?.(what);\n      what = 'Aborted(' + what + ')';\n      err(what);\n      ABORT = true;\n      EXITSTATUS = 1;\n      what += '. Build with -sASSERTIONS for more info.';\n      /** @suppress {checkTypes} */ var e = new WebAssembly.RuntimeError(what);\n      readyPromiseReject(e);\n      throw e;\n    }\n\n    var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n    /**\n     * Indicates whether filename is a base64 data URI.\n     * @noinline\n     */ var isDataURI = (filename) => filename.startsWith(dataURIPrefix);\n\n    var wasmBinaryFile;\n\n    wasmBinaryFile = 'DotLottiePlayer.wasm';\n\n    if (!isDataURI(wasmBinaryFile)) {\n      wasmBinaryFile = locateFile(wasmBinaryFile);\n    }\n\n    function getBinarySync(file) {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) {\n        return readBinary(file);\n      }\n      throw 'both async and sync fetching of the wasm failed';\n    }\n\n    function getBinaryPromise(binaryFile) {\n      if (!wasmBinary && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {\n        if (typeof fetch == 'function') {\n          return fetch(binaryFile, {\n            credentials: 'same-origin',\n          })\n            .then((response) => {\n              if (!response['ok']) {\n                throw `failed to load wasm binary file at '${binaryFile}'`;\n              }\n              return response['arrayBuffer']();\n            })\n            .catch(() => getBinarySync(binaryFile));\n        }\n      }\n      return Promise.resolve().then(() => getBinarySync(binaryFile));\n    }\n\n    function instantiateArrayBuffer(binaryFile, imports, receiver) {\n      return getBinaryPromise(binaryFile)\n        .then((binary) => WebAssembly.instantiate(binary, imports))\n        .then(receiver, (reason) => {\n          err(`failed to asynchronously prepare wasm: ${reason}`);\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync(binary, binaryFile, imports, callback) {\n      if (\n        !binary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(binaryFile) &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(binaryFile, {\n          credentials: 'same-origin',\n        }).then((response) => {\n          /** @suppress {checkTypes} */ var result = WebAssembly.instantiateStreaming(response, imports);\n          return result.then(callback, function (reason) {\n            err(`wasm streaming compile failed: ${reason}`);\n            err('falling back to ArrayBuffer instantiation');\n            return instantiateArrayBuffer(binaryFile, imports, callback);\n          });\n        });\n      }\n      return instantiateArrayBuffer(binaryFile, imports, callback);\n    }\n\n    function createWasm() {\n      var info = {\n        a: wasmImports,\n      };\n      /** @param {WebAssembly.Module=} module*/ function receiveInstance(instance, module) {\n        wasmExports = instance.exports;\n        wasmMemory = wasmExports['ka'];\n        updateMemoryViews();\n        wasmTable = wasmExports['oa'];\n        addOnInit(wasmExports['la']);\n        removeRunDependency('wasm-instantiate');\n        return wasmExports;\n      }\n      addRunDependency('wasm-instantiate');\n      function receiveInstantiationResult(result) {\n        receiveInstance(result['instance']);\n      }\n      if (Module['instantiateWasm']) {\n        try {\n          return Module['instantiateWasm'](info, receiveInstance);\n        } catch (e) {\n          err(`Module.instantiateWasm callback failed with error: ${e}`);\n          readyPromiseReject(e);\n        }\n      }\n      instantiateAsync(wasmBinary, wasmBinaryFile, info, receiveInstantiationResult).catch(readyPromiseReject);\n      return {};\n    }\n\n    var callRuntimeCallbacks = (callbacks) => {\n      while (callbacks.length > 0) {\n        callbacks.shift()(Module);\n      }\n    };\n\n    var noExitRuntime = Module['noExitRuntime'] || true;\n\n    var stackRestore = (val) => __emscripten_stack_restore(val);\n\n    var stackSave = () => _emscripten_stack_get_current();\n\n    var UTF8Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n    /**\n     * Given a pointer 'idx' to a null-terminated UTF8-encoded string in the given\n     * array that contains uint8 values, returns a copy of that string as a\n     * Javascript String object.\n     * heapOrArray is either a regular array, or a JavaScript typed array view.\n     * @param {number} idx\n     * @param {number=} maxBytesToRead\n     * @return {string}\n     */ var UTF8ArrayToString = (heapOrArray, idx, maxBytesToRead) => {\n      var endIdx = idx + maxBytesToRead;\n      var endPtr = idx;\n      while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n      if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n        return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n      }\n      var str = '';\n      while (idx < endPtr) {\n        var u0 = heapOrArray[idx++];\n        if (!(u0 & 128)) {\n          str += String.fromCharCode(u0);\n          continue;\n        }\n        var u1 = heapOrArray[idx++] & 63;\n        if ((u0 & 224) == 192) {\n          str += String.fromCharCode(((u0 & 31) << 6) | u1);\n          continue;\n        }\n        var u2 = heapOrArray[idx++] & 63;\n        if ((u0 & 240) == 224) {\n          u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n        } else {\n          u0 = ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n        }\n        if (u0 < 65536) {\n          str += String.fromCharCode(u0);\n        } else {\n          var ch = u0 - 65536;\n          str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n        }\n      }\n      return str;\n    };\n\n    /**\n     * Given a pointer 'ptr' to a null-terminated UTF8-encoded string in the\n     * emscripten HEAP, returns a copy of that string as a Javascript String object.\n     *\n     * @param {number} ptr\n     * @param {number=} maxBytesToRead - An optional length that specifies the\n     *   maximum number of bytes to read. You can omit this parameter to scan the\n     *   string until the first 0 byte. If maxBytesToRead is passed, and the string\n     *   at [ptr, ptr+maxBytesToReadr[ contains a null byte in the middle, then the\n     *   string will cut short at that byte index (i.e. maxBytesToRead will not\n     *   produce a string of exact length [ptr, ptr+maxBytesToRead[) N.B. mixing\n     *   frequent uses of UTF8ToString() with and without maxBytesToRead may throw\n     *   JS JIT optimizations off, so it is worth to consider consistently using one\n     * @return {string}\n     */ var UTF8ToString = (ptr, maxBytesToRead) => (ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : '');\n\n    var ___assert_fail = (condition, filename, line, func) => {\n      abort(\n        `Assertion failed: ${UTF8ToString(condition)}, at: ` +\n          [\n            filename ? UTF8ToString(filename) : 'unknown filename',\n            line,\n            func ? UTF8ToString(func) : 'unknown function',\n          ],\n      );\n    };\n\n    var exceptionLast = 0;\n\n    class ExceptionInfo {\n      constructor(excPtr) {\n        this.excPtr = excPtr;\n        this.ptr = excPtr - 24;\n      }\n      set_type(type) {\n        HEAPU32[(this.ptr + 4) >> 2] = type;\n      }\n      get_type() {\n        return HEAPU32[(this.ptr + 4) >> 2];\n      }\n      set_destructor(destructor) {\n        HEAPU32[(this.ptr + 8) >> 2] = destructor;\n      }\n      get_destructor() {\n        return HEAPU32[(this.ptr + 8) >> 2];\n      }\n      set_caught(caught) {\n        caught = caught ? 1 : 0;\n        HEAP8[this.ptr + 12] = caught;\n      }\n      get_caught() {\n        return HEAP8[this.ptr + 12] != 0;\n      }\n      set_rethrown(rethrown) {\n        rethrown = rethrown ? 1 : 0;\n        HEAP8[this.ptr + 13] = rethrown;\n      }\n      get_rethrown() {\n        return HEAP8[this.ptr + 13] != 0;\n      }\n      init(type, destructor) {\n        this.set_adjusted_ptr(0);\n        this.set_type(type);\n        this.set_destructor(destructor);\n      }\n      set_adjusted_ptr(adjustedPtr) {\n        HEAPU32[(this.ptr + 16) >> 2] = adjustedPtr;\n      }\n      get_adjusted_ptr() {\n        return HEAPU32[(this.ptr + 16) >> 2];\n      }\n      get_exception_ptr() {\n        var isPointer = ___cxa_is_pointer_type(this.get_type());\n        if (isPointer) {\n          return HEAPU32[this.excPtr >> 2];\n        }\n        var adjusted = this.get_adjusted_ptr();\n        if (adjusted !== 0) return adjusted;\n        return this.excPtr;\n      }\n    }\n\n    var ___resumeException = (ptr) => {\n      if (!exceptionLast) {\n        exceptionLast = ptr;\n      }\n      throw exceptionLast;\n    };\n\n    var setTempRet0 = (val) => __emscripten_tempret_set(val);\n\n    var findMatchingCatch = (args) => {\n      var thrown = exceptionLast;\n      if (!thrown) {\n        setTempRet0(0);\n        return 0;\n      }\n      var info = new ExceptionInfo(thrown);\n      info.set_adjusted_ptr(thrown);\n      var thrownType = info.get_type();\n      if (!thrownType) {\n        setTempRet0(0);\n        return thrown;\n      }\n      for (var arg in args) {\n        var caughtType = args[arg];\n        if (caughtType === 0 || caughtType === thrownType) {\n          break;\n        }\n        var adjusted_ptr_addr = info.ptr + 16;\n        if (___cxa_can_catch(caughtType, thrownType, adjusted_ptr_addr)) {\n          setTempRet0(caughtType);\n          return thrown;\n        }\n      }\n      setTempRet0(thrownType);\n      return thrown;\n    };\n\n    var ___cxa_find_matching_catch_2 = () => findMatchingCatch([]);\n\n    var uncaughtExceptionCount = 0;\n\n    var ___cxa_throw = (ptr, type, destructor) => {\n      var info = new ExceptionInfo(ptr);\n      info.init(type, destructor);\n      exceptionLast = ptr;\n      uncaughtExceptionCount++;\n      throw exceptionLast;\n    };\n\n    var SYSCALLS = {\n      varargs: undefined,\n      getStr(ptr) {\n        var ret = UTF8ToString(ptr);\n        return ret;\n      },\n    };\n\n    function ___syscall_fcntl64(fd, cmd, varargs) {\n      SYSCALLS.varargs = varargs;\n      return 0;\n    }\n\n    var ___syscall_fstat64 = (fd, buf) => {};\n\n    var lengthBytesUTF8 = (str) => {\n      var len = 0;\n      for (var i = 0; i < str.length; ++i) {\n        var c = str.charCodeAt(i);\n        if (c <= 127) {\n          len++;\n        } else if (c <= 2047) {\n          len += 2;\n        } else if (c >= 55296 && c <= 57343) {\n          len += 4;\n          ++i;\n        } else {\n          len += 3;\n        }\n      }\n      return len;\n    };\n\n    var stringToUTF8Array = (str, heap, outIdx, maxBytesToWrite) => {\n      if (!(maxBytesToWrite > 0)) return 0;\n      var startIdx = outIdx;\n      var endIdx = outIdx + maxBytesToWrite - 1;\n      for (var i = 0; i < str.length; ++i) {\n        var u = str.charCodeAt(i);\n        if (u >= 55296 && u <= 57343) {\n          var u1 = str.charCodeAt(++i);\n          u = (65536 + ((u & 1023) << 10)) | (u1 & 1023);\n        }\n        if (u <= 127) {\n          if (outIdx >= endIdx) break;\n          heap[outIdx++] = u;\n        } else if (u <= 2047) {\n          if (outIdx + 1 >= endIdx) break;\n          heap[outIdx++] = 192 | (u >> 6);\n          heap[outIdx++] = 128 | (u & 63);\n        } else if (u <= 65535) {\n          if (outIdx + 2 >= endIdx) break;\n          heap[outIdx++] = 224 | (u >> 12);\n          heap[outIdx++] = 128 | ((u >> 6) & 63);\n          heap[outIdx++] = 128 | (u & 63);\n        } else {\n          if (outIdx + 3 >= endIdx) break;\n          heap[outIdx++] = 240 | (u >> 18);\n          heap[outIdx++] = 128 | ((u >> 12) & 63);\n          heap[outIdx++] = 128 | ((u >> 6) & 63);\n          heap[outIdx++] = 128 | (u & 63);\n        }\n      }\n      heap[outIdx] = 0;\n      return outIdx - startIdx;\n    };\n\n    var stringToUTF8 = (str, outPtr, maxBytesToWrite) => stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\n\n    var ___syscall_getcwd = (buf, size) => {};\n\n    function ___syscall_ioctl(fd, op, varargs) {\n      SYSCALLS.varargs = varargs;\n      return 0;\n    }\n\n    var ___syscall_newfstatat = (dirfd, path, buf, flags) => {};\n\n    function ___syscall_openat(dirfd, path, flags, varargs) {\n      SYSCALLS.varargs = varargs;\n    }\n\n    var ___syscall_stat64 = (path, buf) => {};\n\n    var structRegistrations = {};\n\n    var runDestructors = (destructors) => {\n      while (destructors.length) {\n        var ptr = destructors.pop();\n        var del = destructors.pop();\n        del(ptr);\n      }\n    };\n\n    /** @suppress {globalThis} */ function readPointer(pointer) {\n      return this['fromWireType'](HEAPU32[pointer >> 2]);\n    }\n\n    var awaitingDependencies = {};\n\n    var registeredTypes = {};\n\n    var typeDependencies = {};\n\n    var InternalError;\n\n    var throwInternalError = (message) => {\n      throw new InternalError(message);\n    };\n\n    var whenDependentTypesAreResolved = (myTypes, dependentTypes, getTypeConverters) => {\n      myTypes.forEach(function (type) {\n        typeDependencies[type] = dependentTypes;\n      });\n      function onComplete(typeConverters) {\n        var myTypeConverters = getTypeConverters(typeConverters);\n        if (myTypeConverters.length !== myTypes.length) {\n          throwInternalError('Mismatched type converter count');\n        }\n        for (var i = 0; i < myTypes.length; ++i) {\n          registerType(myTypes[i], myTypeConverters[i]);\n        }\n      }\n      var typeConverters = new Array(dependentTypes.length);\n      var unregisteredTypes = [];\n      var registered = 0;\n      dependentTypes.forEach((dt, i) => {\n        if (registeredTypes.hasOwnProperty(dt)) {\n          typeConverters[i] = registeredTypes[dt];\n        } else {\n          unregisteredTypes.push(dt);\n          if (!awaitingDependencies.hasOwnProperty(dt)) {\n            awaitingDependencies[dt] = [];\n          }\n          awaitingDependencies[dt].push(() => {\n            typeConverters[i] = registeredTypes[dt];\n            ++registered;\n            if (registered === unregisteredTypes.length) {\n              onComplete(typeConverters);\n            }\n          });\n        }\n      });\n      if (0 === unregisteredTypes.length) {\n        onComplete(typeConverters);\n      }\n    };\n\n    var __embind_finalize_value_object = (structType) => {\n      var reg = structRegistrations[structType];\n      delete structRegistrations[structType];\n      var rawConstructor = reg.rawConstructor;\n      var rawDestructor = reg.rawDestructor;\n      var fieldRecords = reg.fields;\n      var fieldTypes = fieldRecords\n        .map((field) => field.getterReturnType)\n        .concat(fieldRecords.map((field) => field.setterArgumentType));\n      whenDependentTypesAreResolved([structType], fieldTypes, (fieldTypes) => {\n        var fields = {};\n        fieldRecords.forEach((field, i) => {\n          var fieldName = field.fieldName;\n          var getterReturnType = fieldTypes[i];\n          var getter = field.getter;\n          var getterContext = field.getterContext;\n          var setterArgumentType = fieldTypes[i + fieldRecords.length];\n          var setter = field.setter;\n          var setterContext = field.setterContext;\n          fields[fieldName] = {\n            read: (ptr) => getterReturnType['fromWireType'](getter(getterContext, ptr)),\n            write: (ptr, o) => {\n              var destructors = [];\n              setter(setterContext, ptr, setterArgumentType['toWireType'](destructors, o));\n              runDestructors(destructors);\n            },\n          };\n        });\n        return [\n          {\n            name: reg.name,\n            fromWireType: (ptr) => {\n              var rv = {};\n              for (var i in fields) {\n                rv[i] = fields[i].read(ptr);\n              }\n              rawDestructor(ptr);\n              return rv;\n            },\n            toWireType: (destructors, o) => {\n              for (var fieldName in fields) {\n                if (!(fieldName in o)) {\n                  throw new TypeError(`Missing field: \"${fieldName}\"`);\n                }\n              }\n              var ptr = rawConstructor();\n              for (fieldName in fields) {\n                fields[fieldName].write(ptr, o[fieldName]);\n              }\n              if (destructors !== null) {\n                destructors.push(rawDestructor, ptr);\n              }\n              return ptr;\n            },\n            argPackAdvance: GenericWireTypeSize,\n            readValueFromPointer: readPointer,\n            destructorFunction: rawDestructor,\n          },\n        ];\n      });\n    };\n\n    var __embind_register_bigint = (primitiveType, name, size, minRange, maxRange) => {};\n\n    var embind_init_charCodes = () => {\n      var codes = new Array(256);\n      for (var i = 0; i < 256; ++i) {\n        codes[i] = String.fromCharCode(i);\n      }\n      embind_charCodes = codes;\n    };\n\n    var embind_charCodes;\n\n    var readLatin1String = (ptr) => {\n      var ret = '';\n      var c = ptr;\n      while (HEAPU8[c]) {\n        ret += embind_charCodes[HEAPU8[c++]];\n      }\n      return ret;\n    };\n\n    var BindingError;\n\n    var throwBindingError = (message) => {\n      throw new BindingError(message);\n    };\n\n    /** @param {Object=} options */ function sharedRegisterType(rawType, registeredInstance, options = {}) {\n      var name = registeredInstance.name;\n      if (!rawType) {\n        throwBindingError(`type \"${name}\" must have a positive integer typeid pointer`);\n      }\n      if (registeredTypes.hasOwnProperty(rawType)) {\n        if (options.ignoreDuplicateRegistrations) {\n          return;\n        } else {\n          throwBindingError(`Cannot register type '${name}' twice`);\n        }\n      }\n      registeredTypes[rawType] = registeredInstance;\n      delete typeDependencies[rawType];\n      if (awaitingDependencies.hasOwnProperty(rawType)) {\n        var callbacks = awaitingDependencies[rawType];\n        delete awaitingDependencies[rawType];\n        callbacks.forEach((cb) => cb());\n      }\n    }\n\n    /** @param {Object=} options */ function registerType(rawType, registeredInstance, options = {}) {\n      if (!('argPackAdvance' in registeredInstance)) {\n        throw new TypeError('registerType registeredInstance requires argPackAdvance');\n      }\n      return sharedRegisterType(rawType, registeredInstance, options);\n    }\n\n    var GenericWireTypeSize = 8;\n\n    /** @suppress {globalThis} */ var __embind_register_bool = (rawType, name, trueValue, falseValue) => {\n      name = readLatin1String(name);\n      registerType(rawType, {\n        name: name,\n        fromWireType: function (wt) {\n          return !!wt;\n        },\n        toWireType: function (destructors, o) {\n          return o ? trueValue : falseValue;\n        },\n        argPackAdvance: GenericWireTypeSize,\n        readValueFromPointer: function (pointer) {\n          return this['fromWireType'](HEAPU8[pointer]);\n        },\n        destructorFunction: null,\n      });\n    };\n\n    var shallowCopyInternalPointer = (o) => ({\n      count: o.count,\n      deleteScheduled: o.deleteScheduled,\n      preservePointerOnDelete: o.preservePointerOnDelete,\n      ptr: o.ptr,\n      ptrType: o.ptrType,\n      smartPtr: o.smartPtr,\n      smartPtrType: o.smartPtrType,\n    });\n\n    var throwInstanceAlreadyDeleted = (obj) => {\n      function getInstanceTypeName(handle) {\n        return handle.$$.ptrType.registeredClass.name;\n      }\n      throwBindingError(getInstanceTypeName(obj) + ' instance already deleted');\n    };\n\n    var finalizationRegistry = false;\n\n    var detachFinalizer = (handle) => {};\n\n    var runDestructor = ($$) => {\n      if ($$.smartPtr) {\n        $$.smartPtrType.rawDestructor($$.smartPtr);\n      } else {\n        $$.ptrType.registeredClass.rawDestructor($$.ptr);\n      }\n    };\n\n    var releaseClassHandle = ($$) => {\n      $$.count.value -= 1;\n      var toDelete = 0 === $$.count.value;\n      if (toDelete) {\n        runDestructor($$);\n      }\n    };\n\n    var downcastPointer = (ptr, ptrClass, desiredClass) => {\n      if (ptrClass === desiredClass) {\n        return ptr;\n      }\n      if (undefined === desiredClass.baseClass) {\n        return null;\n      }\n      var rv = downcastPointer(ptr, ptrClass, desiredClass.baseClass);\n      if (rv === null) {\n        return null;\n      }\n      return desiredClass.downcast(rv);\n    };\n\n    var registeredPointers = {};\n\n    var getInheritedInstanceCount = () => Object.keys(registeredInstances).length;\n\n    var getLiveInheritedInstances = () => {\n      var rv = [];\n      for (var k in registeredInstances) {\n        if (registeredInstances.hasOwnProperty(k)) {\n          rv.push(registeredInstances[k]);\n        }\n      }\n      return rv;\n    };\n\n    var deletionQueue = [];\n\n    var flushPendingDeletes = () => {\n      while (deletionQueue.length) {\n        var obj = deletionQueue.pop();\n        obj.$$.deleteScheduled = false;\n        obj['delete']();\n      }\n    };\n\n    var delayFunction;\n\n    var setDelayFunction = (fn) => {\n      delayFunction = fn;\n      if (deletionQueue.length && delayFunction) {\n        delayFunction(flushPendingDeletes);\n      }\n    };\n\n    var init_embind = () => {\n      Module['getInheritedInstanceCount'] = getInheritedInstanceCount;\n      Module['getLiveInheritedInstances'] = getLiveInheritedInstances;\n      Module['flushPendingDeletes'] = flushPendingDeletes;\n      Module['setDelayFunction'] = setDelayFunction;\n    };\n\n    var registeredInstances = {};\n\n    var getBasestPointer = (class_, ptr) => {\n      if (ptr === undefined) {\n        throwBindingError('ptr should not be undefined');\n      }\n      while (class_.baseClass) {\n        ptr = class_.upcast(ptr);\n        class_ = class_.baseClass;\n      }\n      return ptr;\n    };\n\n    var getInheritedInstance = (class_, ptr) => {\n      ptr = getBasestPointer(class_, ptr);\n      return registeredInstances[ptr];\n    };\n\n    var makeClassHandle = (prototype, record) => {\n      if (!record.ptrType || !record.ptr) {\n        throwInternalError('makeClassHandle requires ptr and ptrType');\n      }\n      var hasSmartPtrType = !!record.smartPtrType;\n      var hasSmartPtr = !!record.smartPtr;\n      if (hasSmartPtrType !== hasSmartPtr) {\n        throwInternalError('Both smartPtrType and smartPtr must be specified');\n      }\n      record.count = {\n        value: 1,\n      };\n      return attachFinalizer(\n        Object.create(prototype, {\n          $$: {\n            value: record,\n            writable: true,\n          },\n        }),\n      );\n    };\n\n    /** @suppress {globalThis} */ function RegisteredPointer_fromWireType(ptr) {\n      var rawPointer = this.getPointee(ptr);\n      if (!rawPointer) {\n        this.destructor(ptr);\n        return null;\n      }\n      var registeredInstance = getInheritedInstance(this.registeredClass, rawPointer);\n      if (undefined !== registeredInstance) {\n        if (0 === registeredInstance.$$.count.value) {\n          registeredInstance.$$.ptr = rawPointer;\n          registeredInstance.$$.smartPtr = ptr;\n          return registeredInstance['clone']();\n        } else {\n          var rv = registeredInstance['clone']();\n          this.destructor(ptr);\n          return rv;\n        }\n      }\n      function makeDefaultHandle() {\n        if (this.isSmartPointer) {\n          return makeClassHandle(this.registeredClass.instancePrototype, {\n            ptrType: this.pointeeType,\n            ptr: rawPointer,\n            smartPtrType: this,\n            smartPtr: ptr,\n          });\n        } else {\n          return makeClassHandle(this.registeredClass.instancePrototype, {\n            ptrType: this,\n            ptr: ptr,\n          });\n        }\n      }\n      var actualType = this.registeredClass.getActualType(rawPointer);\n      var registeredPointerRecord = registeredPointers[actualType];\n      if (!registeredPointerRecord) {\n        return makeDefaultHandle.call(this);\n      }\n      var toType;\n      if (this.isConst) {\n        toType = registeredPointerRecord.constPointerType;\n      } else {\n        toType = registeredPointerRecord.pointerType;\n      }\n      var dp = downcastPointer(rawPointer, this.registeredClass, toType.registeredClass);\n      if (dp === null) {\n        return makeDefaultHandle.call(this);\n      }\n      if (this.isSmartPointer) {\n        return makeClassHandle(toType.registeredClass.instancePrototype, {\n          ptrType: toType,\n          ptr: dp,\n          smartPtrType: this,\n          smartPtr: ptr,\n        });\n      } else {\n        return makeClassHandle(toType.registeredClass.instancePrototype, {\n          ptrType: toType,\n          ptr: dp,\n        });\n      }\n    }\n\n    var attachFinalizer = (handle) => {\n      if ('undefined' === typeof FinalizationRegistry) {\n        attachFinalizer = (handle) => handle;\n        return handle;\n      }\n      finalizationRegistry = new FinalizationRegistry((info) => {\n        releaseClassHandle(info.$$);\n      });\n      attachFinalizer = (handle) => {\n        var $$ = handle.$$;\n        var hasSmartPtr = !!$$.smartPtr;\n        if (hasSmartPtr) {\n          var info = {\n            $$: $$,\n          };\n          finalizationRegistry.register(handle, info, handle);\n        }\n        return handle;\n      };\n      detachFinalizer = (handle) => finalizationRegistry.unregister(handle);\n      return attachFinalizer(handle);\n    };\n\n    var init_ClassHandle = () => {\n      Object.assign(ClassHandle.prototype, {\n        isAliasOf(other) {\n          if (!(this instanceof ClassHandle)) {\n            return false;\n          }\n          if (!(other instanceof ClassHandle)) {\n            return false;\n          }\n          var leftClass = this.$$.ptrType.registeredClass;\n          var left = this.$$.ptr;\n          other.$$ = /** @type {Object} */ (other.$$);\n          var rightClass = other.$$.ptrType.registeredClass;\n          var right = other.$$.ptr;\n          while (leftClass.baseClass) {\n            left = leftClass.upcast(left);\n            leftClass = leftClass.baseClass;\n          }\n          while (rightClass.baseClass) {\n            right = rightClass.upcast(right);\n            rightClass = rightClass.baseClass;\n          }\n          return leftClass === rightClass && left === right;\n        },\n        clone() {\n          if (!this.$$.ptr) {\n            throwInstanceAlreadyDeleted(this);\n          }\n          if (this.$$.preservePointerOnDelete) {\n            this.$$.count.value += 1;\n            return this;\n          } else {\n            var clone = attachFinalizer(\n              Object.create(Object.getPrototypeOf(this), {\n                $$: {\n                  value: shallowCopyInternalPointer(this.$$),\n                },\n              }),\n            );\n            clone.$$.count.value += 1;\n            clone.$$.deleteScheduled = false;\n            return clone;\n          }\n        },\n        delete() {\n          if (!this.$$.ptr) {\n            throwInstanceAlreadyDeleted(this);\n          }\n          if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {\n            throwBindingError('Object already scheduled for deletion');\n          }\n          detachFinalizer(this);\n          releaseClassHandle(this.$$);\n          if (!this.$$.preservePointerOnDelete) {\n            this.$$.smartPtr = undefined;\n            this.$$.ptr = undefined;\n          }\n        },\n        isDeleted() {\n          return !this.$$.ptr;\n        },\n        deleteLater() {\n          if (!this.$$.ptr) {\n            throwInstanceAlreadyDeleted(this);\n          }\n          if (this.$$.deleteScheduled && !this.$$.preservePointerOnDelete) {\n            throwBindingError('Object already scheduled for deletion');\n          }\n          deletionQueue.push(this);\n          if (deletionQueue.length === 1 && delayFunction) {\n            delayFunction(flushPendingDeletes);\n          }\n          this.$$.deleteScheduled = true;\n          return this;\n        },\n      });\n    };\n\n    /** @constructor */ function ClassHandle() {}\n\n    var createNamedFunction = (name, body) =>\n      Object.defineProperty(body, 'name', {\n        value: name,\n      });\n\n    var ensureOverloadTable = (proto, methodName, humanName) => {\n      if (undefined === proto[methodName].overloadTable) {\n        var prevFunc = proto[methodName];\n        proto[methodName] = function (...args) {\n          if (!proto[methodName].overloadTable.hasOwnProperty(args.length)) {\n            throwBindingError(\n              `Function '${humanName}' called with an invalid number of arguments (${args.length}) - expects one of (${proto[methodName].overloadTable})!`,\n            );\n          }\n          return proto[methodName].overloadTable[args.length].apply(this, args);\n        };\n        proto[methodName].overloadTable = [];\n        proto[methodName].overloadTable[prevFunc.argCount] = prevFunc;\n      }\n    };\n\n    /** @param {number=} numArguments */ var exposePublicSymbol = (name, value, numArguments) => {\n      if (Module.hasOwnProperty(name)) {\n        if (\n          undefined === numArguments ||\n          (undefined !== Module[name].overloadTable && undefined !== Module[name].overloadTable[numArguments])\n        ) {\n          throwBindingError(`Cannot register public name '${name}' twice`);\n        }\n        ensureOverloadTable(Module, name, name);\n        if (Module.hasOwnProperty(numArguments)) {\n          throwBindingError(\n            `Cannot register multiple overloads of a function with the same number of arguments (${numArguments})!`,\n          );\n        }\n        Module[name].overloadTable[numArguments] = value;\n      } else {\n        Module[name] = value;\n        if (undefined !== numArguments) {\n          Module[name].numArguments = numArguments;\n        }\n      }\n    };\n\n    var char_0 = 48;\n\n    var char_9 = 57;\n\n    var makeLegalFunctionName = (name) => {\n      if (undefined === name) {\n        return '_unknown';\n      }\n      name = name.replace(/[^a-zA-Z0-9_]/g, '$');\n      var f = name.charCodeAt(0);\n      if (f >= char_0 && f <= char_9) {\n        return `_${name}`;\n      }\n      return name;\n    };\n\n    /** @constructor */ function RegisteredClass(\n      name,\n      constructor,\n      instancePrototype,\n      rawDestructor,\n      baseClass,\n      getActualType,\n      upcast,\n      downcast,\n    ) {\n      this.name = name;\n      this.constructor = constructor;\n      this.instancePrototype = instancePrototype;\n      this.rawDestructor = rawDestructor;\n      this.baseClass = baseClass;\n      this.getActualType = getActualType;\n      this.upcast = upcast;\n      this.downcast = downcast;\n      this.pureVirtualFunctions = [];\n    }\n\n    var upcastPointer = (ptr, ptrClass, desiredClass) => {\n      while (ptrClass !== desiredClass) {\n        if (!ptrClass.upcast) {\n          throwBindingError(`Expected null or instance of ${desiredClass.name}, got an instance of ${ptrClass.name}`);\n        }\n        ptr = ptrClass.upcast(ptr);\n        ptrClass = ptrClass.baseClass;\n      }\n      return ptr;\n    };\n\n    /** @suppress {globalThis} */ function constNoSmartPtrRawPointerToWireType(destructors, handle) {\n      if (handle === null) {\n        if (this.isReference) {\n          throwBindingError(`null is not a valid ${this.name}`);\n        }\n        return 0;\n      }\n      if (!handle.$$) {\n        throwBindingError(`Cannot pass \"${embindRepr(handle)}\" as a ${this.name}`);\n      }\n      if (!handle.$$.ptr) {\n        throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`);\n      }\n      var handleClass = handle.$$.ptrType.registeredClass;\n      var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\n      return ptr;\n    }\n\n    /** @suppress {globalThis} */ function genericPointerToWireType(destructors, handle) {\n      var ptr;\n      if (handle === null) {\n        if (this.isReference) {\n          throwBindingError(`null is not a valid ${this.name}`);\n        }\n        if (this.isSmartPointer) {\n          ptr = this.rawConstructor();\n          if (destructors !== null) {\n            destructors.push(this.rawDestructor, ptr);\n          }\n          return ptr;\n        } else {\n          return 0;\n        }\n      }\n      if (!handle || !handle.$$) {\n        throwBindingError(`Cannot pass \"${embindRepr(handle)}\" as a ${this.name}`);\n      }\n      if (!handle.$$.ptr) {\n        throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`);\n      }\n      if (!this.isConst && handle.$$.ptrType.isConst) {\n        throwBindingError(\n          `Cannot convert argument of type ${\n            handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name\n          } to parameter type ${this.name}`,\n        );\n      }\n      var handleClass = handle.$$.ptrType.registeredClass;\n      ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\n      if (this.isSmartPointer) {\n        if (undefined === handle.$$.smartPtr) {\n          throwBindingError('Passing raw pointer to smart pointer is illegal');\n        }\n        switch (this.sharingPolicy) {\n          case 0:\n            if (handle.$$.smartPtrType === this) {\n              ptr = handle.$$.smartPtr;\n            } else {\n              throwBindingError(\n                `Cannot convert argument of type ${\n                  handle.$$.smartPtrType ? handle.$$.smartPtrType.name : handle.$$.ptrType.name\n                } to parameter type ${this.name}`,\n              );\n            }\n            break;\n\n          case 1:\n            ptr = handle.$$.smartPtr;\n            break;\n\n          case 2:\n            if (handle.$$.smartPtrType === this) {\n              ptr = handle.$$.smartPtr;\n            } else {\n              var clonedHandle = handle['clone']();\n              ptr = this.rawShare(\n                ptr,\n                Emval.toHandle(() => clonedHandle['delete']()),\n              );\n              if (destructors !== null) {\n                destructors.push(this.rawDestructor, ptr);\n              }\n            }\n            break;\n\n          default:\n            throwBindingError('Unsupporting sharing policy');\n        }\n      }\n      return ptr;\n    }\n\n    /** @suppress {globalThis} */ function nonConstNoSmartPtrRawPointerToWireType(destructors, handle) {\n      if (handle === null) {\n        if (this.isReference) {\n          throwBindingError(`null is not a valid ${this.name}`);\n        }\n        return 0;\n      }\n      if (!handle.$$) {\n        throwBindingError(`Cannot pass \"${embindRepr(handle)}\" as a ${this.name}`);\n      }\n      if (!handle.$$.ptr) {\n        throwBindingError(`Cannot pass deleted object as a pointer of type ${this.name}`);\n      }\n      if (handle.$$.ptrType.isConst) {\n        throwBindingError(`Cannot convert argument of type ${handle.$$.ptrType.name} to parameter type ${this.name}`);\n      }\n      var handleClass = handle.$$.ptrType.registeredClass;\n      var ptr = upcastPointer(handle.$$.ptr, handleClass, this.registeredClass);\n      return ptr;\n    }\n\n    var init_RegisteredPointer = () => {\n      Object.assign(RegisteredPointer.prototype, {\n        getPointee(ptr) {\n          if (this.rawGetPointee) {\n            ptr = this.rawGetPointee(ptr);\n          }\n          return ptr;\n        },\n        destructor(ptr) {\n          this.rawDestructor?.(ptr);\n        },\n        argPackAdvance: GenericWireTypeSize,\n        readValueFromPointer: readPointer,\n        fromWireType: RegisteredPointer_fromWireType,\n      });\n    };\n\n    /** @constructor\n      @param {*=} pointeeType,\n      @param {*=} sharingPolicy,\n      @param {*=} rawGetPointee,\n      @param {*=} rawConstructor,\n      @param {*=} rawShare,\n      @param {*=} rawDestructor,\n       */ function RegisteredPointer(\n      name,\n      registeredClass,\n      isReference,\n      isConst,\n      isSmartPointer,\n      pointeeType,\n      sharingPolicy,\n      rawGetPointee,\n      rawConstructor,\n      rawShare,\n      rawDestructor,\n    ) {\n      this.name = name;\n      this.registeredClass = registeredClass;\n      this.isReference = isReference;\n      this.isConst = isConst;\n      this.isSmartPointer = isSmartPointer;\n      this.pointeeType = pointeeType;\n      this.sharingPolicy = sharingPolicy;\n      this.rawGetPointee = rawGetPointee;\n      this.rawConstructor = rawConstructor;\n      this.rawShare = rawShare;\n      this.rawDestructor = rawDestructor;\n      if (!isSmartPointer && registeredClass.baseClass === undefined) {\n        if (isConst) {\n          this['toWireType'] = constNoSmartPtrRawPointerToWireType;\n          this.destructorFunction = null;\n        } else {\n          this['toWireType'] = nonConstNoSmartPtrRawPointerToWireType;\n          this.destructorFunction = null;\n        }\n      } else {\n        this['toWireType'] = genericPointerToWireType;\n      }\n    }\n\n    /** @param {number=} numArguments */ var replacePublicSymbol = (name, value, numArguments) => {\n      if (!Module.hasOwnProperty(name)) {\n        throwInternalError('Replacing nonexistent public symbol');\n      }\n      if (undefined !== Module[name].overloadTable && undefined !== numArguments) {\n        Module[name].overloadTable[numArguments] = value;\n      } else {\n        Module[name] = value;\n        Module[name].argCount = numArguments;\n      }\n    };\n\n    var dynCallLegacy = (sig, ptr, args) => {\n      sig = sig.replace(/p/g, 'i');\n      var f = Module['dynCall_' + sig];\n      return f(ptr, ...args);\n    };\n\n    var wasmTable;\n\n    var getWasmTableEntry = (funcPtr) => wasmTable.get(funcPtr);\n\n    var dynCall = (sig, ptr, args = []) => {\n      if (sig.includes('j')) {\n        return dynCallLegacy(sig, ptr, args);\n      }\n      var rtn = getWasmTableEntry(ptr)(...args);\n      return rtn;\n    };\n\n    var getDynCaller =\n      (sig, ptr) =>\n      (...args) =>\n        dynCall(sig, ptr, args);\n\n    var embind__requireFunction = (signature, rawFunction) => {\n      signature = readLatin1String(signature);\n      function makeDynCaller() {\n        if (signature.includes('j')) {\n          return getDynCaller(signature, rawFunction);\n        }\n        return getWasmTableEntry(rawFunction);\n      }\n      var fp = makeDynCaller();\n      if (typeof fp != 'function') {\n        throwBindingError(`unknown function pointer with signature ${signature}: ${rawFunction}`);\n      }\n      return fp;\n    };\n\n    var extendError = (baseErrorType, errorName) => {\n      var errorClass = createNamedFunction(errorName, function (message) {\n        this.name = errorName;\n        this.message = message;\n        var stack = new Error(message).stack;\n        if (stack !== undefined) {\n          this.stack = this.toString() + '\\n' + stack.replace(/^Error(:[^\\n]*)?\\n/, '');\n        }\n      });\n      errorClass.prototype = Object.create(baseErrorType.prototype);\n      errorClass.prototype.constructor = errorClass;\n      errorClass.prototype.toString = function () {\n        if (this.message === undefined) {\n          return this.name;\n        } else {\n          return `${this.name}: ${this.message}`;\n        }\n      };\n      return errorClass;\n    };\n\n    var UnboundTypeError;\n\n    var getTypeName = (type) => {\n      var ptr = ___getTypeName(type);\n      var rv = readLatin1String(ptr);\n      _free(ptr);\n      return rv;\n    };\n\n    var throwUnboundTypeError = (message, types) => {\n      var unboundTypes = [];\n      var seen = {};\n      function visit(type) {\n        if (seen[type]) {\n          return;\n        }\n        if (registeredTypes[type]) {\n          return;\n        }\n        if (typeDependencies[type]) {\n          typeDependencies[type].forEach(visit);\n          return;\n        }\n        unboundTypes.push(type);\n        seen[type] = true;\n      }\n      types.forEach(visit);\n      throw new UnboundTypeError(`${message}: ` + unboundTypes.map(getTypeName).join([', ']));\n    };\n\n    var __embind_register_class = (\n      rawType,\n      rawPointerType,\n      rawConstPointerType,\n      baseClassRawType,\n      getActualTypeSignature,\n      getActualType,\n      upcastSignature,\n      upcast,\n      downcastSignature,\n      downcast,\n      name,\n      destructorSignature,\n      rawDestructor,\n    ) => {\n      name = readLatin1String(name);\n      getActualType = embind__requireFunction(getActualTypeSignature, getActualType);\n      upcast &&= embind__requireFunction(upcastSignature, upcast);\n      downcast &&= embind__requireFunction(downcastSignature, downcast);\n      rawDestructor = embind__requireFunction(destructorSignature, rawDestructor);\n      var legalFunctionName = makeLegalFunctionName(name);\n      exposePublicSymbol(legalFunctionName, function () {\n        throwUnboundTypeError(`Cannot construct ${name} due to unbound types`, [baseClassRawType]);\n      });\n      whenDependentTypesAreResolved(\n        [rawType, rawPointerType, rawConstPointerType],\n        baseClassRawType ? [baseClassRawType] : [],\n        (base) => {\n          base = base[0];\n          var baseClass;\n          var basePrototype;\n          if (baseClassRawType) {\n            baseClass = base.registeredClass;\n            basePrototype = baseClass.instancePrototype;\n          } else {\n            basePrototype = ClassHandle.prototype;\n          }\n          var constructor = createNamedFunction(name, function (...args) {\n            if (Object.getPrototypeOf(this) !== instancePrototype) {\n              throw new BindingError(\"Use 'new' to construct \" + name);\n            }\n            if (undefined === registeredClass.constructor_body) {\n              throw new BindingError(name + ' has no accessible constructor');\n            }\n            var body = registeredClass.constructor_body[args.length];\n            if (undefined === body) {\n              throw new BindingError(\n                `Tried to invoke ctor of ${name} with invalid number of parameters (${\n                  args.length\n                }) - expected (${Object.keys(registeredClass.constructor_body).toString()}) parameters instead!`,\n              );\n            }\n            return body.apply(this, args);\n          });\n          var instancePrototype = Object.create(basePrototype, {\n            constructor: {\n              value: constructor,\n            },\n          });\n          constructor.prototype = instancePrototype;\n          var registeredClass = new RegisteredClass(\n            name,\n            constructor,\n            instancePrototype,\n            rawDestructor,\n            baseClass,\n            getActualType,\n            upcast,\n            downcast,\n          );\n          if (registeredClass.baseClass) {\n            registeredClass.baseClass.__derivedClasses ??= [];\n            registeredClass.baseClass.__derivedClasses.push(registeredClass);\n          }\n          var referenceConverter = new RegisteredPointer(name, registeredClass, true, false, false);\n          var pointerConverter = new RegisteredPointer(name + '*', registeredClass, false, false, false);\n          var constPointerConverter = new RegisteredPointer(name + ' const*', registeredClass, false, true, false);\n          registeredPointers[rawType] = {\n            pointerType: pointerConverter,\n            constPointerType: constPointerConverter,\n          };\n          replacePublicSymbol(legalFunctionName, constructor);\n          return [referenceConverter, pointerConverter, constPointerConverter];\n        },\n      );\n    };\n\n    var heap32VectorToArray = (count, firstElement) => {\n      var array = [];\n      for (var i = 0; i < count; i++) {\n        array.push(HEAPU32[(firstElement + i * 4) >> 2]);\n      }\n      return array;\n    };\n\n    function usesDestructorStack(argTypes) {\n      for (var i = 1; i < argTypes.length; ++i) {\n        if (argTypes[i] !== null && argTypes[i].destructorFunction === undefined) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    function craftInvokerFunction(\n      humanName,\n      argTypes,\n      classType,\n      cppInvokerFunc,\n      cppTargetFunc,\n      /** boolean= */ isAsync,\n    ) {\n      var argCount = argTypes.length;\n      if (argCount < 2) {\n        throwBindingError(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");\n      }\n      var isClassMethodFunc = argTypes[1] !== null && classType !== null;\n      var needsDestructorStack = usesDestructorStack(argTypes);\n      var returns = argTypes[0].name !== 'void';\n      var expectedArgCount = argCount - 2;\n      var argsWired = new Array(expectedArgCount);\n      var invokerFuncArgs = [];\n      var destructors = [];\n      var invokerFn = function (...args) {\n        if (args.length !== expectedArgCount) {\n          throwBindingError(`function ${humanName} called with ${args.length} arguments, expected ${expectedArgCount}`);\n        }\n        destructors.length = 0;\n        var thisWired;\n        invokerFuncArgs.length = isClassMethodFunc ? 2 : 1;\n        invokerFuncArgs[0] = cppTargetFunc;\n        if (isClassMethodFunc) {\n          thisWired = argTypes[1]['toWireType'](destructors, this);\n          invokerFuncArgs[1] = thisWired;\n        }\n        for (var i = 0; i < expectedArgCount; ++i) {\n          argsWired[i] = argTypes[i + 2]['toWireType'](destructors, args[i]);\n          invokerFuncArgs.push(argsWired[i]);\n        }\n        var rv = cppInvokerFunc(...invokerFuncArgs);\n        function onDone(rv) {\n          if (needsDestructorStack) {\n            runDestructors(destructors);\n          } else {\n            for (var i = isClassMethodFunc ? 1 : 2; i < argTypes.length; i++) {\n              var param = i === 1 ? thisWired : argsWired[i - 2];\n              if (argTypes[i].destructorFunction !== null) {\n                argTypes[i].destructorFunction(param);\n              }\n            }\n          }\n          if (returns) {\n            return argTypes[0]['fromWireType'](rv);\n          }\n        }\n        return onDone(rv);\n      };\n      return createNamedFunction(humanName, invokerFn);\n    }\n\n    var __embind_register_class_constructor = (\n      rawClassType,\n      argCount,\n      rawArgTypesAddr,\n      invokerSignature,\n      invoker,\n      rawConstructor,\n    ) => {\n      var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\n      invoker = embind__requireFunction(invokerSignature, invoker);\n      whenDependentTypesAreResolved([], [rawClassType], (classType) => {\n        classType = classType[0];\n        var humanName = `constructor ${classType.name}`;\n        if (undefined === classType.registeredClass.constructor_body) {\n          classType.registeredClass.constructor_body = [];\n        }\n        if (undefined !== classType.registeredClass.constructor_body[argCount - 1]) {\n          throw new BindingError(\n            `Cannot register multiple constructors with identical number of parameters (${argCount - 1}) for class '${\n              classType.name\n            }'! Overload resolution is currently only performed using the parameter count, not actual type info!`,\n          );\n        }\n        classType.registeredClass.constructor_body[argCount - 1] = () => {\n          throwUnboundTypeError(`Cannot construct ${classType.name} due to unbound types`, rawArgTypes);\n        };\n        whenDependentTypesAreResolved([], rawArgTypes, (argTypes) => {\n          argTypes.splice(1, 0, null);\n          classType.registeredClass.constructor_body[argCount - 1] = craftInvokerFunction(\n            humanName,\n            argTypes,\n            null,\n            invoker,\n            rawConstructor,\n          );\n          return [];\n        });\n        return [];\n      });\n    };\n\n    var getFunctionName = (signature) => {\n      signature = signature.trim();\n      const argsIndex = signature.indexOf('(');\n      if (argsIndex !== -1) {\n        return signature.substr(0, argsIndex);\n      } else {\n        return signature;\n      }\n    };\n\n    var __embind_register_class_function = (\n      rawClassType,\n      methodName,\n      argCount,\n      rawArgTypesAddr,\n      invokerSignature,\n      rawInvoker,\n      context,\n      isPureVirtual,\n      isAsync,\n    ) => {\n      var rawArgTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\n      methodName = readLatin1String(methodName);\n      methodName = getFunctionName(methodName);\n      rawInvoker = embind__requireFunction(invokerSignature, rawInvoker);\n      whenDependentTypesAreResolved([], [rawClassType], (classType) => {\n        classType = classType[0];\n        var humanName = `${classType.name}.${methodName}`;\n        if (methodName.startsWith('@@')) {\n          methodName = Symbol[methodName.substring(2)];\n        }\n        if (isPureVirtual) {\n          classType.registeredClass.pureVirtualFunctions.push(methodName);\n        }\n        function unboundTypesHandler() {\n          throwUnboundTypeError(`Cannot call ${humanName} due to unbound types`, rawArgTypes);\n        }\n        var proto = classType.registeredClass.instancePrototype;\n        var method = proto[methodName];\n        if (\n          undefined === method ||\n          (undefined === method.overloadTable &&\n            method.className !== classType.name &&\n            method.argCount === argCount - 2)\n        ) {\n          unboundTypesHandler.argCount = argCount - 2;\n          unboundTypesHandler.className = classType.name;\n          proto[methodName] = unboundTypesHandler;\n        } else {\n          ensureOverloadTable(proto, methodName, humanName);\n          proto[methodName].overloadTable[argCount - 2] = unboundTypesHandler;\n        }\n        whenDependentTypesAreResolved([], rawArgTypes, (argTypes) => {\n          var memberFunction = craftInvokerFunction(humanName, argTypes, classType, rawInvoker, context, isAsync);\n          if (undefined === proto[methodName].overloadTable) {\n            memberFunction.argCount = argCount - 2;\n            proto[methodName] = memberFunction;\n          } else {\n            proto[methodName].overloadTable[argCount - 2] = memberFunction;\n          }\n          return [];\n        });\n        return [];\n      });\n    };\n\n    var emval_freelist = [];\n\n    var emval_handles = [];\n\n    var __emval_decref = (handle) => {\n      if (handle > 9 && 0 === --emval_handles[handle + 1]) {\n        emval_handles[handle] = undefined;\n        emval_freelist.push(handle);\n      }\n    };\n\n    var count_emval_handles = () => emval_handles.length / 2 - 5 - emval_freelist.length;\n\n    var init_emval = () => {\n      emval_handles.push(0, 1, undefined, 1, null, 1, true, 1, false, 1);\n      Module['count_emval_handles'] = count_emval_handles;\n    };\n\n    var Emval = {\n      toValue: (handle) => {\n        if (!handle) {\n          throwBindingError('Cannot use deleted val. handle = ' + handle);\n        }\n        return emval_handles[handle];\n      },\n      toHandle: (value) => {\n        switch (value) {\n          case undefined:\n            return 2;\n\n          case null:\n            return 4;\n\n          case true:\n            return 6;\n\n          case false:\n            return 8;\n\n          default: {\n            const handle = emval_freelist.pop() || emval_handles.length;\n            emval_handles[handle] = value;\n            emval_handles[handle + 1] = 1;\n            return handle;\n          }\n        }\n      },\n    };\n\n    var EmValType = {\n      name: 'emscripten::val',\n      fromWireType: (handle) => {\n        var rv = Emval.toValue(handle);\n        __emval_decref(handle);\n        return rv;\n      },\n      toWireType: (destructors, value) => Emval.toHandle(value),\n      argPackAdvance: GenericWireTypeSize,\n      readValueFromPointer: readPointer,\n      destructorFunction: null,\n    };\n\n    var __embind_register_emval = (rawType) => registerType(rawType, EmValType);\n\n    var enumReadValueFromPointer = (name, width, signed) => {\n      switch (width) {\n        case 1:\n          return signed\n            ? function (pointer) {\n                return this['fromWireType'](HEAP8[pointer]);\n              }\n            : function (pointer) {\n                return this['fromWireType'](HEAPU8[pointer]);\n              };\n\n        case 2:\n          return signed\n            ? function (pointer) {\n                return this['fromWireType'](HEAP16[pointer >> 1]);\n              }\n            : function (pointer) {\n                return this['fromWireType'](HEAPU16[pointer >> 1]);\n              };\n\n        case 4:\n          return signed\n            ? function (pointer) {\n                return this['fromWireType'](HEAP32[pointer >> 2]);\n              }\n            : function (pointer) {\n                return this['fromWireType'](HEAPU32[pointer >> 2]);\n              };\n\n        default:\n          throw new TypeError(`invalid integer width (${width}): ${name}`);\n      }\n    };\n\n    /** @suppress {globalThis} */ var __embind_register_enum = (rawType, name, size, isSigned) => {\n      name = readLatin1String(name);\n      function ctor() {}\n      ctor.values = {};\n      registerType(rawType, {\n        name: name,\n        constructor: ctor,\n        fromWireType: function (c) {\n          return this.constructor.values[c];\n        },\n        toWireType: (destructors, c) => c.value,\n        argPackAdvance: GenericWireTypeSize,\n        readValueFromPointer: enumReadValueFromPointer(name, size, isSigned),\n        destructorFunction: null,\n      });\n      exposePublicSymbol(name, ctor);\n    };\n\n    var requireRegisteredType = (rawType, humanName) => {\n      var impl = registeredTypes[rawType];\n      if (undefined === impl) {\n        throwBindingError(`${humanName} has unknown type ${getTypeName(rawType)}`);\n      }\n      return impl;\n    };\n\n    var __embind_register_enum_value = (rawEnumType, name, enumValue) => {\n      var enumType = requireRegisteredType(rawEnumType, 'enum');\n      name = readLatin1String(name);\n      var Enum = enumType.constructor;\n      var Value = Object.create(enumType.constructor.prototype, {\n        value: {\n          value: enumValue,\n        },\n        constructor: {\n          value: createNamedFunction(`${enumType.name}_${name}`, function () {}),\n        },\n      });\n      Enum.values[enumValue] = Value;\n      Enum[name] = Value;\n    };\n\n    var embindRepr = (v) => {\n      if (v === null) {\n        return 'null';\n      }\n      var t = typeof v;\n      if (t === 'object' || t === 'array' || t === 'function') {\n        return v.toString();\n      } else {\n        return '' + v;\n      }\n    };\n\n    var floatReadValueFromPointer = (name, width) => {\n      switch (width) {\n        case 4:\n          return function (pointer) {\n            return this['fromWireType'](HEAPF32[pointer >> 2]);\n          };\n\n        case 8:\n          return function (pointer) {\n            return this['fromWireType'](HEAPF64[pointer >> 3]);\n          };\n\n        default:\n          throw new TypeError(`invalid float width (${width}): ${name}`);\n      }\n    };\n\n    var __embind_register_float = (rawType, name, size) => {\n      name = readLatin1String(name);\n      registerType(rawType, {\n        name: name,\n        fromWireType: (value) => value,\n        toWireType: (destructors, value) => value,\n        argPackAdvance: GenericWireTypeSize,\n        readValueFromPointer: floatReadValueFromPointer(name, size),\n        destructorFunction: null,\n      });\n    };\n\n    var __embind_register_function = (name, argCount, rawArgTypesAddr, signature, rawInvoker, fn, isAsync) => {\n      var argTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\n      name = readLatin1String(name);\n      name = getFunctionName(name);\n      rawInvoker = embind__requireFunction(signature, rawInvoker);\n      exposePublicSymbol(\n        name,\n        function () {\n          throwUnboundTypeError(`Cannot call ${name} due to unbound types`, argTypes);\n        },\n        argCount - 1,\n      );\n      whenDependentTypesAreResolved([], argTypes, (argTypes) => {\n        var invokerArgsArray = [argTypes[0], /* return value */ null].concat(/* no class 'this'*/ argTypes.slice(1));\n        /* actual params */ replacePublicSymbol(\n          name,\n          craftInvokerFunction(name, invokerArgsArray, null, /* no class 'this'*/ rawInvoker, fn, isAsync),\n          argCount - 1,\n        );\n        return [];\n      });\n    };\n\n    var integerReadValueFromPointer = (name, width, signed) => {\n      switch (width) {\n        case 1:\n          return signed ? (pointer) => HEAP8[pointer] : (pointer) => HEAPU8[pointer];\n\n        case 2:\n          return signed ? (pointer) => HEAP16[pointer >> 1] : (pointer) => HEAPU16[pointer >> 1];\n\n        case 4:\n          return signed ? (pointer) => HEAP32[pointer >> 2] : (pointer) => HEAPU32[pointer >> 2];\n\n        default:\n          throw new TypeError(`invalid integer width (${width}): ${name}`);\n      }\n    };\n\n    /** @suppress {globalThis} */ var __embind_register_integer = (primitiveType, name, size, minRange, maxRange) => {\n      name = readLatin1String(name);\n      if (maxRange === -1) {\n        maxRange = 4294967295;\n      }\n      var fromWireType = (value) => value;\n      if (minRange === 0) {\n        var bitshift = 32 - 8 * size;\n        fromWireType = (value) => (value << bitshift) >>> bitshift;\n      }\n      var isUnsignedType = name.includes('unsigned');\n      var checkAssertions = (value, toTypeName) => {};\n      var toWireType;\n      if (isUnsignedType) {\n        toWireType = function (destructors, value) {\n          checkAssertions(value, this.name);\n          return value >>> 0;\n        };\n      } else {\n        toWireType = function (destructors, value) {\n          checkAssertions(value, this.name);\n          return value;\n        };\n      }\n      registerType(primitiveType, {\n        name: name,\n        fromWireType: fromWireType,\n        toWireType: toWireType,\n        argPackAdvance: GenericWireTypeSize,\n        readValueFromPointer: integerReadValueFromPointer(name, size, minRange !== 0),\n        destructorFunction: null,\n      });\n    };\n\n    var __embind_register_memory_view = (rawType, dataTypeIndex, name) => {\n      var typeMapping = [\n        Int8Array,\n        Uint8Array,\n        Int16Array,\n        Uint16Array,\n        Int32Array,\n        Uint32Array,\n        Float32Array,\n        Float64Array,\n      ];\n      var TA = typeMapping[dataTypeIndex];\n      function decodeMemoryView(handle) {\n        var size = HEAPU32[handle >> 2];\n        var data = HEAPU32[(handle + 4) >> 2];\n        return new TA(HEAP8.buffer, data, size);\n      }\n      name = readLatin1String(name);\n      registerType(\n        rawType,\n        {\n          name: name,\n          fromWireType: decodeMemoryView,\n          argPackAdvance: GenericWireTypeSize,\n          readValueFromPointer: decodeMemoryView,\n        },\n        {\n          ignoreDuplicateRegistrations: true,\n        },\n      );\n    };\n\n    var __embind_register_optional = (rawOptionalType, rawType) => {\n      __embind_register_emval(rawOptionalType);\n    };\n\n    var __embind_register_smart_ptr = (\n      rawType,\n      rawPointeeType,\n      name,\n      sharingPolicy,\n      getPointeeSignature,\n      rawGetPointee,\n      constructorSignature,\n      rawConstructor,\n      shareSignature,\n      rawShare,\n      destructorSignature,\n      rawDestructor,\n    ) => {\n      name = readLatin1String(name);\n      rawGetPointee = embind__requireFunction(getPointeeSignature, rawGetPointee);\n      rawConstructor = embind__requireFunction(constructorSignature, rawConstructor);\n      rawShare = embind__requireFunction(shareSignature, rawShare);\n      rawDestructor = embind__requireFunction(destructorSignature, rawDestructor);\n      whenDependentTypesAreResolved([rawType], [rawPointeeType], (pointeeType) => {\n        pointeeType = pointeeType[0];\n        var registeredPointer = new RegisteredPointer(\n          name,\n          pointeeType.registeredClass,\n          false,\n          false,\n          true,\n          pointeeType,\n          sharingPolicy,\n          rawGetPointee,\n          rawConstructor,\n          rawShare,\n          rawDestructor,\n        );\n        return [registeredPointer];\n      });\n    };\n\n    var __embind_register_std_string = (rawType, name) => {\n      name = readLatin1String(name);\n      var stdStringIsUTF8 = name === 'std::string';\n      registerType(rawType, {\n        name: name,\n        fromWireType(value) {\n          var length = HEAPU32[value >> 2];\n          var payload = value + 4;\n          var str;\n          if (stdStringIsUTF8) {\n            var decodeStartPtr = payload;\n            for (var i = 0; i <= length; ++i) {\n              var currentBytePtr = payload + i;\n              if (i == length || HEAPU8[currentBytePtr] == 0) {\n                var maxRead = currentBytePtr - decodeStartPtr;\n                var stringSegment = UTF8ToString(decodeStartPtr, maxRead);\n                if (str === undefined) {\n                  str = stringSegment;\n                } else {\n                  str += String.fromCharCode(0);\n                  str += stringSegment;\n                }\n                decodeStartPtr = currentBytePtr + 1;\n              }\n            }\n          } else {\n            var a = new Array(length);\n            for (var i = 0; i < length; ++i) {\n              a[i] = String.fromCharCode(HEAPU8[payload + i]);\n            }\n            str = a.join('');\n          }\n          _free(value);\n          return str;\n        },\n        toWireType(destructors, value) {\n          if (value instanceof ArrayBuffer) {\n            value = new Uint8Array(value);\n          }\n          var length;\n          var valueIsOfTypeString = typeof value == 'string';\n          if (\n            !(\n              valueIsOfTypeString ||\n              value instanceof Uint8Array ||\n              value instanceof Uint8ClampedArray ||\n              value instanceof Int8Array\n            )\n          ) {\n            throwBindingError('Cannot pass non-string to std::string');\n          }\n          if (stdStringIsUTF8 && valueIsOfTypeString) {\n            length = lengthBytesUTF8(value);\n          } else {\n            length = value.length;\n          }\n          var base = _malloc(4 + length + 1);\n          var ptr = base + 4;\n          HEAPU32[base >> 2] = length;\n          if (stdStringIsUTF8 && valueIsOfTypeString) {\n            stringToUTF8(value, ptr, length + 1);\n          } else {\n            if (valueIsOfTypeString) {\n              for (var i = 0; i < length; ++i) {\n                var charCode = value.charCodeAt(i);\n                if (charCode > 255) {\n                  _free(ptr);\n                  throwBindingError('String has UTF-16 code units that do not fit in 8 bits');\n                }\n                HEAPU8[ptr + i] = charCode;\n              }\n            } else {\n              for (var i = 0; i < length; ++i) {\n                HEAPU8[ptr + i] = value[i];\n              }\n            }\n          }\n          if (destructors !== null) {\n            destructors.push(_free, base);\n          }\n          return base;\n        },\n        argPackAdvance: GenericWireTypeSize,\n        readValueFromPointer: readPointer,\n        destructorFunction(ptr) {\n          _free(ptr);\n        },\n      });\n    };\n\n    var UTF16Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf-16le') : undefined;\n\n    var UTF16ToString = (ptr, maxBytesToRead) => {\n      var endPtr = ptr;\n      var idx = endPtr >> 1;\n      var maxIdx = idx + maxBytesToRead / 2;\n      while (!(idx >= maxIdx) && HEAPU16[idx]) ++idx;\n      endPtr = idx << 1;\n      if (endPtr - ptr > 32 && UTF16Decoder) return UTF16Decoder.decode(HEAPU8.subarray(ptr, endPtr));\n      var str = '';\n      for (var i = 0; !(i >= maxBytesToRead / 2); ++i) {\n        var codeUnit = HEAP16[(ptr + i * 2) >> 1];\n        if (codeUnit == 0) break;\n        str += String.fromCharCode(codeUnit);\n      }\n      return str;\n    };\n\n    var stringToUTF16 = (str, outPtr, maxBytesToWrite) => {\n      maxBytesToWrite ??= 2147483647;\n      if (maxBytesToWrite < 2) return 0;\n      maxBytesToWrite -= 2;\n      var startPtr = outPtr;\n      var numCharsToWrite = maxBytesToWrite < str.length * 2 ? maxBytesToWrite / 2 : str.length;\n      for (var i = 0; i < numCharsToWrite; ++i) {\n        var codeUnit = str.charCodeAt(i);\n        HEAP16[outPtr >> 1] = codeUnit;\n        outPtr += 2;\n      }\n      HEAP16[outPtr >> 1] = 0;\n      return outPtr - startPtr;\n    };\n\n    var lengthBytesUTF16 = (str) => str.length * 2;\n\n    var UTF32ToString = (ptr, maxBytesToRead) => {\n      var i = 0;\n      var str = '';\n      while (!(i >= maxBytesToRead / 4)) {\n        var utf32 = HEAP32[(ptr + i * 4) >> 2];\n        if (utf32 == 0) break;\n        ++i;\n        if (utf32 >= 65536) {\n          var ch = utf32 - 65536;\n          str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n        } else {\n          str += String.fromCharCode(utf32);\n        }\n      }\n      return str;\n    };\n\n    var stringToUTF32 = (str, outPtr, maxBytesToWrite) => {\n      maxBytesToWrite ??= 2147483647;\n      if (maxBytesToWrite < 4) return 0;\n      var startPtr = outPtr;\n      var endPtr = startPtr + maxBytesToWrite - 4;\n      for (var i = 0; i < str.length; ++i) {\n        var codeUnit = str.charCodeAt(i);\n        if (codeUnit >= 55296 && codeUnit <= 57343) {\n          var trailSurrogate = str.charCodeAt(++i);\n          codeUnit = (65536 + ((codeUnit & 1023) << 10)) | (trailSurrogate & 1023);\n        }\n        HEAP32[outPtr >> 2] = codeUnit;\n        outPtr += 4;\n        if (outPtr + 4 > endPtr) break;\n      }\n      HEAP32[outPtr >> 2] = 0;\n      return outPtr - startPtr;\n    };\n\n    var lengthBytesUTF32 = (str) => {\n      var len = 0;\n      for (var i = 0; i < str.length; ++i) {\n        var codeUnit = str.charCodeAt(i);\n        if (codeUnit >= 55296 && codeUnit <= 57343) ++i;\n        len += 4;\n      }\n      return len;\n    };\n\n    var __embind_register_std_wstring = (rawType, charSize, name) => {\n      name = readLatin1String(name);\n      var decodeString, encodeString, readCharAt, lengthBytesUTF;\n      if (charSize === 2) {\n        decodeString = UTF16ToString;\n        encodeString = stringToUTF16;\n        lengthBytesUTF = lengthBytesUTF16;\n        readCharAt = (pointer) => HEAPU16[pointer >> 1];\n      } else if (charSize === 4) {\n        decodeString = UTF32ToString;\n        encodeString = stringToUTF32;\n        lengthBytesUTF = lengthBytesUTF32;\n        readCharAt = (pointer) => HEAPU32[pointer >> 2];\n      }\n      registerType(rawType, {\n        name: name,\n        fromWireType: (value) => {\n          var length = HEAPU32[value >> 2];\n          var str;\n          var decodeStartPtr = value + 4;\n          for (var i = 0; i <= length; ++i) {\n            var currentBytePtr = value + 4 + i * charSize;\n            if (i == length || readCharAt(currentBytePtr) == 0) {\n              var maxReadBytes = currentBytePtr - decodeStartPtr;\n              var stringSegment = decodeString(decodeStartPtr, maxReadBytes);\n              if (str === undefined) {\n                str = stringSegment;\n              } else {\n                str += String.fromCharCode(0);\n                str += stringSegment;\n              }\n              decodeStartPtr = currentBytePtr + charSize;\n            }\n          }\n          _free(value);\n          return str;\n        },\n        toWireType: (destructors, value) => {\n          if (!(typeof value == 'string')) {\n            throwBindingError(`Cannot pass non-string to C++ string type ${name}`);\n          }\n          var length = lengthBytesUTF(value);\n          var ptr = _malloc(4 + length + charSize);\n          HEAPU32[ptr >> 2] = length / charSize;\n          encodeString(value, ptr + 4, length + charSize);\n          if (destructors !== null) {\n            destructors.push(_free, ptr);\n          }\n          return ptr;\n        },\n        argPackAdvance: GenericWireTypeSize,\n        readValueFromPointer: readPointer,\n        destructorFunction(ptr) {\n          _free(ptr);\n        },\n      });\n    };\n\n    var __embind_register_value_object = (\n      rawType,\n      name,\n      constructorSignature,\n      rawConstructor,\n      destructorSignature,\n      rawDestructor,\n    ) => {\n      structRegistrations[rawType] = {\n        name: readLatin1String(name),\n        rawConstructor: embind__requireFunction(constructorSignature, rawConstructor),\n        rawDestructor: embind__requireFunction(destructorSignature, rawDestructor),\n        fields: [],\n      };\n    };\n\n    var __embind_register_value_object_field = (\n      structType,\n      fieldName,\n      getterReturnType,\n      getterSignature,\n      getter,\n      getterContext,\n      setterArgumentType,\n      setterSignature,\n      setter,\n      setterContext,\n    ) => {\n      structRegistrations[structType].fields.push({\n        fieldName: readLatin1String(fieldName),\n        getterReturnType: getterReturnType,\n        getter: embind__requireFunction(getterSignature, getter),\n        getterContext: getterContext,\n        setterArgumentType: setterArgumentType,\n        setter: embind__requireFunction(setterSignature, setter),\n        setterContext: setterContext,\n      });\n    };\n\n    var __embind_register_void = (rawType, name) => {\n      name = readLatin1String(name);\n      registerType(rawType, {\n        isVoid: true,\n        name: name,\n        argPackAdvance: 0,\n        fromWireType: () => undefined,\n        toWireType: (destructors, o) => undefined,\n      });\n    };\n\n    var __emscripten_memcpy_js = (dest, src, num) => HEAPU8.copyWithin(dest, src, src + num);\n\n    var __emscripten_throw_longjmp = () => {\n      throw Infinity;\n    };\n\n    var emval_methodCallers = [];\n\n    var __emval_call = (caller, handle, destructorsRef, args) => {\n      caller = emval_methodCallers[caller];\n      handle = Emval.toValue(handle);\n      return caller(null, handle, destructorsRef, args);\n    };\n\n    var emval_addMethodCaller = (caller) => {\n      var id = emval_methodCallers.length;\n      emval_methodCallers.push(caller);\n      return id;\n    };\n\n    var emval_lookupTypes = (argCount, argTypes) => {\n      var a = new Array(argCount);\n      for (var i = 0; i < argCount; ++i) {\n        a[i] = requireRegisteredType(HEAPU32[(argTypes + i * 4) >> 2], 'parameter ' + i);\n      }\n      return a;\n    };\n\n    var reflectConstruct = Reflect.construct;\n\n    var emval_returnValue = (returnType, destructorsRef, handle) => {\n      var destructors = [];\n      var result = returnType['toWireType'](destructors, handle);\n      if (destructors.length) {\n        HEAPU32[destructorsRef >> 2] = Emval.toHandle(destructors);\n      }\n      return result;\n    };\n\n    var __emval_get_method_caller = (argCount, argTypes, kind) => {\n      var types = emval_lookupTypes(argCount, argTypes);\n      var retType = types.shift();\n      argCount--;\n      var argN = new Array(argCount);\n      var invokerFunction = (obj, func, destructorsRef, args) => {\n        var offset = 0;\n        for (var i = 0; i < argCount; ++i) {\n          argN[i] = types[i]['readValueFromPointer'](args + offset);\n          offset += types[i]['argPackAdvance'];\n        }\n        var rv = kind === /* CONSTRUCTOR */ 1 ? reflectConstruct(func, argN) : func.apply(obj, argN);\n        return emval_returnValue(retType, destructorsRef, rv);\n      };\n      var functionName = `methodCaller<(${types.map((t) => t.name).join(', ')}) => ${retType.name}>`;\n      return emval_addMethodCaller(createNamedFunction(functionName, invokerFunction));\n    };\n\n    var __emval_incref = (handle) => {\n      if (handle > 9) {\n        emval_handles[handle + 1] += 1;\n      }\n    };\n\n    var __emval_run_destructors = (handle) => {\n      var destructors = Emval.toValue(handle);\n      runDestructors(destructors);\n      __emval_decref(handle);\n    };\n\n    var __emval_take_value = (type, arg) => {\n      type = requireRegisteredType(type, '_emval_take_value');\n      var v = type['readValueFromPointer'](arg);\n      return Emval.toHandle(v);\n    };\n\n    var _abort = () => {\n      abort('');\n    };\n\n    var _emscripten_get_now;\n\n    _emscripten_get_now = () => performance.now();\n\n    var getHeapMax = () => 2147483648;\n\n    var growMemory = (size) => {\n      var b = wasmMemory.buffer;\n      var pages = (size - b.byteLength + 65535) / 65536;\n      try {\n        wasmMemory.grow(pages);\n        updateMemoryViews();\n        return 1;\n      } /*success*/ catch (e) {}\n    };\n\n    var _emscripten_resize_heap = (requestedSize) => {\n      var oldSize = HEAPU8.length;\n      requestedSize >>>= 0;\n      var maxHeapSize = getHeapMax();\n      if (requestedSize > maxHeapSize) {\n        return false;\n      }\n      var alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n      for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n        var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n        overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296);\n        var newSize = Math.min(maxHeapSize, alignUp(Math.max(requestedSize, overGrownHeapSize), 65536));\n        var replacement = growMemory(newSize);\n        if (replacement) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    var ENV = {};\n\n    var getExecutableName = () => thisProgram || './this.program';\n\n    var getEnvStrings = () => {\n      if (!getEnvStrings.strings) {\n        var lang =\n          ((typeof navigator == 'object' && navigator.languages && navigator.languages[0]) || 'C').replace('-', '_') +\n          '.UTF-8';\n        var env = {\n          USER: 'web_user',\n          LOGNAME: 'web_user',\n          PATH: '/',\n          PWD: '/',\n          HOME: '/home/web_user',\n          LANG: lang,\n          _: getExecutableName(),\n        };\n        for (var x in ENV) {\n          if (ENV[x] === undefined) delete env[x];\n          else env[x] = ENV[x];\n        }\n        var strings = [];\n        for (var x in env) {\n          strings.push(`${x}=${env[x]}`);\n        }\n        getEnvStrings.strings = strings;\n      }\n      return getEnvStrings.strings;\n    };\n\n    var stringToAscii = (str, buffer) => {\n      for (var i = 0; i < str.length; ++i) {\n        HEAP8[buffer++] = str.charCodeAt(i);\n      }\n      HEAP8[buffer] = 0;\n    };\n\n    var _environ_get = (__environ, environ_buf) => {\n      var bufSize = 0;\n      getEnvStrings().forEach((string, i) => {\n        var ptr = environ_buf + bufSize;\n        HEAPU32[(__environ + i * 4) >> 2] = ptr;\n        stringToAscii(string, ptr);\n        bufSize += string.length + 1;\n      });\n      return 0;\n    };\n\n    var _environ_sizes_get = (penviron_count, penviron_buf_size) => {\n      var strings = getEnvStrings();\n      HEAPU32[penviron_count >> 2] = strings.length;\n      var bufSize = 0;\n      strings.forEach((string) => (bufSize += string.length + 1));\n      HEAPU32[penviron_buf_size >> 2] = bufSize;\n      return 0;\n    };\n\n    var _fd_close = (fd) => 52;\n\n    var _fd_read = (fd, iov, iovcnt, pnum) => 52;\n\n    var convertI32PairToI53Checked = (lo, hi) =>\n      (hi + 2097152) >>> 0 < 4194305 - !!lo ? (lo >>> 0) + hi * 4294967296 : NaN;\n\n    function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n      var offset = convertI32PairToI53Checked(offset_low, offset_high);\n      return 70;\n    }\n\n    var printCharBuffers = [null, [], []];\n\n    var printChar = (stream, curr) => {\n      var buffer = printCharBuffers[stream];\n      if (curr === 0 || curr === 10) {\n        (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\n        buffer.length = 0;\n      } else {\n        buffer.push(curr);\n      }\n    };\n\n    var _fd_write = (fd, iov, iovcnt, pnum) => {\n      var num = 0;\n      for (var i = 0; i < iovcnt; i++) {\n        var ptr = HEAPU32[iov >> 2];\n        var len = HEAPU32[(iov + 4) >> 2];\n        iov += 8;\n        for (var j = 0; j < len; j++) {\n          printChar(fd, HEAPU8[ptr + j]);\n        }\n        num += len;\n      }\n      HEAPU32[pnum >> 2] = num;\n      return 0;\n    };\n\n    var initRandomFill = () => {\n      if (typeof crypto == 'object' && typeof crypto['getRandomValues'] == 'function') {\n        return (view) => crypto.getRandomValues(view);\n      } else abort('initRandomDevice');\n    };\n\n    var randomFill = (view) => (randomFill = initRandomFill())(view);\n\n    var _getentropy = (buffer, size) => {\n      randomFill(HEAPU8.subarray(buffer, buffer + size));\n      return 0;\n    };\n\n    var isLeapYear = (year) => year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n\n    var arraySum = (array, index) => {\n      var sum = 0;\n      for (var i = 0; i <= index; sum += array[i++]) {}\n      return sum;\n    };\n\n    var MONTH_DAYS_LEAP = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n    var MONTH_DAYS_REGULAR = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n    var addDays = (date, days) => {\n      var newDate = new Date(date.getTime());\n      while (days > 0) {\n        var leap = isLeapYear(newDate.getFullYear());\n        var currentMonth = newDate.getMonth();\n        var daysInCurrentMonth = (leap ? MONTH_DAYS_LEAP : MONTH_DAYS_REGULAR)[currentMonth];\n        if (days > daysInCurrentMonth - newDate.getDate()) {\n          days -= daysInCurrentMonth - newDate.getDate() + 1;\n          newDate.setDate(1);\n          if (currentMonth < 11) {\n            newDate.setMonth(currentMonth + 1);\n          } else {\n            newDate.setMonth(0);\n            newDate.setFullYear(newDate.getFullYear() + 1);\n          }\n        } else {\n          newDate.setDate(newDate.getDate() + days);\n          return newDate;\n        }\n      }\n      return newDate;\n    };\n\n    /** @type {function(string, boolean=, number=)} */ function intArrayFromString(stringy, dontAddNull, length) {\n      var len = length > 0 ? length : lengthBytesUTF8(stringy) + 1;\n      var u8array = new Array(len);\n      var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);\n      if (dontAddNull) u8array.length = numBytesWritten;\n      return u8array;\n    }\n\n    var writeArrayToMemory = (array, buffer) => {\n      HEAP8.set(array, buffer);\n    };\n\n    var _strftime = (s, maxsize, format, tm) => {\n      var tm_zone = HEAPU32[(tm + 40) >> 2];\n      var date = {\n        tm_sec: HEAP32[tm >> 2],\n        tm_min: HEAP32[(tm + 4) >> 2],\n        tm_hour: HEAP32[(tm + 8) >> 2],\n        tm_mday: HEAP32[(tm + 12) >> 2],\n        tm_mon: HEAP32[(tm + 16) >> 2],\n        tm_year: HEAP32[(tm + 20) >> 2],\n        tm_wday: HEAP32[(tm + 24) >> 2],\n        tm_yday: HEAP32[(tm + 28) >> 2],\n        tm_isdst: HEAP32[(tm + 32) >> 2],\n        tm_gmtoff: HEAP32[(tm + 36) >> 2],\n        tm_zone: tm_zone ? UTF8ToString(tm_zone) : '',\n      };\n      var pattern = UTF8ToString(format);\n      var EXPANSION_RULES_1 = {\n        '%c': '%a %b %d %H:%M:%S %Y',\n        '%D': '%m/%d/%y',\n        '%F': '%Y-%m-%d',\n        '%h': '%b',\n        '%r': '%I:%M:%S %p',\n        '%R': '%H:%M',\n        '%T': '%H:%M:%S',\n        '%x': '%m/%d/%y',\n        '%X': '%H:%M:%S',\n        '%Ec': '%c',\n        '%EC': '%C',\n        '%Ex': '%m/%d/%y',\n        '%EX': '%H:%M:%S',\n        '%Ey': '%y',\n        '%EY': '%Y',\n        '%Od': '%d',\n        '%Oe': '%e',\n        '%OH': '%H',\n        '%OI': '%I',\n        '%Om': '%m',\n        '%OM': '%M',\n        '%OS': '%S',\n        '%Ou': '%u',\n        '%OU': '%U',\n        '%OV': '%V',\n        '%Ow': '%w',\n        '%OW': '%W',\n        '%Oy': '%y',\n      };\n      for (var rule in EXPANSION_RULES_1) {\n        pattern = pattern.replace(new RegExp(rule, 'g'), EXPANSION_RULES_1[rule]);\n      }\n      var WEEKDAYS = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n      var MONTHS = [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n      ];\n      function leadingSomething(value, digits, character) {\n        var str = typeof value == 'number' ? value.toString() : value || '';\n        while (str.length < digits) {\n          str = character[0] + str;\n        }\n        return str;\n      }\n      function leadingNulls(value, digits) {\n        return leadingSomething(value, digits, '0');\n      }\n      function compareByDay(date1, date2) {\n        function sgn(value) {\n          return value < 0 ? -1 : value > 0 ? 1 : 0;\n        }\n        var compare;\n        if ((compare = sgn(date1.getFullYear() - date2.getFullYear())) === 0) {\n          if ((compare = sgn(date1.getMonth() - date2.getMonth())) === 0) {\n            compare = sgn(date1.getDate() - date2.getDate());\n          }\n        }\n        return compare;\n      }\n      function getFirstWeekStartDate(janFourth) {\n        switch (janFourth.getDay()) {\n          case 0:\n            return new Date(janFourth.getFullYear() - 1, 11, 29);\n\n          case 1:\n            return janFourth;\n\n          case 2:\n            return new Date(janFourth.getFullYear(), 0, 3);\n\n          case 3:\n            return new Date(janFourth.getFullYear(), 0, 2);\n\n          case 4:\n            return new Date(janFourth.getFullYear(), 0, 1);\n\n          case 5:\n            return new Date(janFourth.getFullYear() - 1, 11, 31);\n\n          case 6:\n            return new Date(janFourth.getFullYear() - 1, 11, 30);\n        }\n      }\n      function getWeekBasedYear(date) {\n        var thisDate = addDays(new Date(date.tm_year + 1900, 0, 1), date.tm_yday);\n        var janFourthThisYear = new Date(thisDate.getFullYear(), 0, 4);\n        var janFourthNextYear = new Date(thisDate.getFullYear() + 1, 0, 4);\n        var firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);\n        var firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);\n        if (compareByDay(firstWeekStartThisYear, thisDate) <= 0) {\n          if (compareByDay(firstWeekStartNextYear, thisDate) <= 0) {\n            return thisDate.getFullYear() + 1;\n          }\n          return thisDate.getFullYear();\n        }\n        return thisDate.getFullYear() - 1;\n      }\n      var EXPANSION_RULES_2 = {\n        '%a': (date) => WEEKDAYS[date.tm_wday].substring(0, 3),\n        '%A': (date) => WEEKDAYS[date.tm_wday],\n        '%b': (date) => MONTHS[date.tm_mon].substring(0, 3),\n        '%B': (date) => MONTHS[date.tm_mon],\n        '%C': (date) => {\n          var year = date.tm_year + 1900;\n          return leadingNulls((year / 100) | 0, 2);\n        },\n        '%d': (date) => leadingNulls(date.tm_mday, 2),\n        '%e': (date) => leadingSomething(date.tm_mday, 2, ' '),\n        '%g': (date) => getWeekBasedYear(date).toString().substring(2),\n        '%G': getWeekBasedYear,\n        '%H': (date) => leadingNulls(date.tm_hour, 2),\n        '%I': (date) => {\n          var twelveHour = date.tm_hour;\n          if (twelveHour == 0) twelveHour = 12;\n          else if (twelveHour > 12) twelveHour -= 12;\n          return leadingNulls(twelveHour, 2);\n        },\n        '%j': (date) =>\n          leadingNulls(\n            date.tm_mday +\n              arraySum(isLeapYear(date.tm_year + 1900) ? MONTH_DAYS_LEAP : MONTH_DAYS_REGULAR, date.tm_mon - 1),\n            3,\n          ),\n        '%m': (date) => leadingNulls(date.tm_mon + 1, 2),\n        '%M': (date) => leadingNulls(date.tm_min, 2),\n        '%n': () => '\\n',\n        '%p': (date) => {\n          if (date.tm_hour >= 0 && date.tm_hour < 12) {\n            return 'AM';\n          }\n          return 'PM';\n        },\n        '%S': (date) => leadingNulls(date.tm_sec, 2),\n        '%t': () => '\\t',\n        '%u': (date) => date.tm_wday || 7,\n        '%U': (date) => {\n          var days = date.tm_yday + 7 - date.tm_wday;\n          return leadingNulls(Math.floor(days / 7), 2);\n        },\n        '%V': (date) => {\n          var val = Math.floor((date.tm_yday + 7 - ((date.tm_wday + 6) % 7)) / 7);\n          if ((date.tm_wday + 371 - date.tm_yday - 2) % 7 <= 2) {\n            val++;\n          }\n          if (!val) {\n            val = 52;\n            var dec31 = (date.tm_wday + 7 - date.tm_yday - 1) % 7;\n            if (dec31 == 4 || (dec31 == 5 && isLeapYear((date.tm_year % 400) - 1))) {\n              val++;\n            }\n          } else if (val == 53) {\n            var jan1 = (date.tm_wday + 371 - date.tm_yday) % 7;\n            if (jan1 != 4 && (jan1 != 3 || !isLeapYear(date.tm_year))) val = 1;\n          }\n          return leadingNulls(val, 2);\n        },\n        '%w': (date) => date.tm_wday,\n        '%W': (date) => {\n          var days = date.tm_yday + 7 - ((date.tm_wday + 6) % 7);\n          return leadingNulls(Math.floor(days / 7), 2);\n        },\n        '%y': (date) => (date.tm_year + 1900).toString().substring(2),\n        '%Y': (date) => date.tm_year + 1900,\n        '%z': (date) => {\n          var off = date.tm_gmtoff;\n          var ahead = off >= 0;\n          off = Math.abs(off) / 60;\n          off = (off / 60) * 100 + (off % 60);\n          return (ahead ? '+' : '-') + String('0000' + off).slice(-4);\n        },\n        '%Z': (date) => date.tm_zone,\n        '%%': () => '%',\n      };\n      pattern = pattern.replace(/%%/g, '\\0\\0');\n      for (var rule in EXPANSION_RULES_2) {\n        if (pattern.includes(rule)) {\n          pattern = pattern.replace(new RegExp(rule, 'g'), EXPANSION_RULES_2[rule](date));\n        }\n      }\n      pattern = pattern.replace(/\\0\\0/g, '%');\n      var bytes = intArrayFromString(pattern, false);\n      if (bytes.length > maxsize) {\n        return 0;\n      }\n      writeArrayToMemory(bytes, s);\n      return bytes.length - 1;\n    };\n\n    var _strftime_l = (s, maxsize, format, tm, loc) => _strftime(s, maxsize, format, tm);\n\n    InternalError = Module['InternalError'] = class InternalError extends Error {\n      constructor(message) {\n        super(message);\n        this.name = 'InternalError';\n      }\n    };\n\n    embind_init_charCodes();\n\n    BindingError = Module['BindingError'] = class BindingError extends Error {\n      constructor(message) {\n        super(message);\n        this.name = 'BindingError';\n      }\n    };\n\n    init_ClassHandle();\n\n    init_embind();\n\n    init_RegisteredPointer();\n\n    UnboundTypeError = Module['UnboundTypeError'] = extendError(Error, 'UnboundTypeError');\n\n    init_emval();\n\n    var wasmImports = {\n      /** @export */ c: ___assert_fail,\n      /** @export */ d: ___cxa_find_matching_catch_2,\n      /** @export */ q: ___cxa_throw,\n      /** @export */ h: ___resumeException,\n      /** @export */ F: ___syscall_fcntl64,\n      /** @export */ V: ___syscall_fstat64,\n      /** @export */ S: ___syscall_getcwd,\n      /** @export */ W: ___syscall_ioctl,\n      /** @export */ T: ___syscall_newfstatat,\n      /** @export */ E: ___syscall_openat,\n      /** @export */ U: ___syscall_stat64,\n      /** @export */ A: __embind_finalize_value_object,\n      /** @export */ N: __embind_register_bigint,\n      /** @export */ da: __embind_register_bool,\n      /** @export */ v: __embind_register_class,\n      /** @export */ u: __embind_register_class_constructor,\n      /** @export */ i: __embind_register_class_function,\n      /** @export */ ca: __embind_register_emval,\n      /** @export */ C: __embind_register_enum,\n      /** @export */ n: __embind_register_enum_value,\n      /** @export */ I: __embind_register_float,\n      /** @export */ K: __embind_register_function,\n      /** @export */ p: __embind_register_integer,\n      /** @export */ k: __embind_register_memory_view,\n      /** @export */ B: __embind_register_optional,\n      /** @export */ ja: __embind_register_smart_ptr,\n      /** @export */ J: __embind_register_std_string,\n      /** @export */ z: __embind_register_std_wstring,\n      /** @export */ w: __embind_register_value_object,\n      /** @export */ m: __embind_register_value_object_field,\n      /** @export */ ea: __embind_register_void,\n      /** @export */ X: __emscripten_memcpy_js,\n      /** @export */ O: __emscripten_throw_longjmp,\n      /** @export */ ha: __emval_call,\n      /** @export */ P: __emval_decref,\n      /** @export */ ga: __emval_get_method_caller,\n      /** @export */ ia: __emval_incref,\n      /** @export */ fa: __emval_run_destructors,\n      /** @export */ r: __emval_take_value,\n      /** @export */ ba: _abort,\n      /** @export */ l: _emscripten_get_now,\n      /** @export */ R: _emscripten_resize_heap,\n      /** @export */ Y: _environ_get,\n      /** @export */ Z: _environ_sizes_get,\n      /** @export */ y: _fd_close,\n      /** @export */ D: _fd_read,\n      /** @export */ M: _fd_seek,\n      /** @export */ x: _fd_write,\n      /** @export */ _: _getentropy,\n      /** @export */ j: invoke_ii,\n      /** @export */ g: invoke_iii,\n      /** @export */ f: invoke_iiii,\n      /** @export */ aa: invoke_iiiii,\n      /** @export */ s: invoke_iiiiii,\n      /** @export */ G: invoke_iiiiiiii,\n      /** @export */ t: invoke_v,\n      /** @export */ b: invoke_vi,\n      /** @export */ a: invoke_vii,\n      /** @export */ e: invoke_viii,\n      /** @export */ o: invoke_viiii,\n      /** @export */ H: invoke_viiiii,\n      /** @export */ $: invoke_viiiiii,\n      /** @export */ L: invoke_viiij,\n      /** @export */ Q: _strftime_l,\n    };\n\n    var wasmExports = createWasm();\n\n    var ___wasm_call_ctors = () => (___wasm_call_ctors = wasmExports['la'])();\n\n    var _malloc = (a0) => (_malloc = wasmExports['ma'])(a0);\n\n    var ___getTypeName = (a0) => (___getTypeName = wasmExports['na'])(a0);\n\n    var _free = (a0) => (_free = wasmExports['pa'])(a0);\n\n    var _htonl = (a0) => (_htonl = wasmExports['htonl'])(a0);\n\n    var _htons = (a0) => (_htons = wasmExports['htons'])(a0);\n\n    var _ntohs = (a0) => (_ntohs = wasmExports['ntohs'])(a0);\n\n    var _setThrew = (a0, a1) => (_setThrew = wasmExports['qa'])(a0, a1);\n\n    var __emscripten_tempret_set = (a0) => (__emscripten_tempret_set = wasmExports['ra'])(a0);\n\n    var __emscripten_stack_restore = (a0) => (__emscripten_stack_restore = wasmExports['sa'])(a0);\n\n    var __emscripten_stack_alloc = (a0) => (__emscripten_stack_alloc = wasmExports['_emscripten_stack_alloc'])(a0);\n\n    var _emscripten_stack_get_current = () => (_emscripten_stack_get_current = wasmExports['ta'])();\n\n    var ___cxa_increment_exception_refcount = (a0) =>\n      (___cxa_increment_exception_refcount = wasmExports['__cxa_increment_exception_refcount'])(a0);\n\n    var ___cxa_can_catch = (a0, a1, a2) => (___cxa_can_catch = wasmExports['ua'])(a0, a1, a2);\n\n    var ___cxa_is_pointer_type = (a0) => (___cxa_is_pointer_type = wasmExports['va'])(a0);\n\n    var dynCall_iijj = (Module['dynCall_iijj'] = (a0, a1, a2, a3, a4, a5) =>\n      (dynCall_iijj = Module['dynCall_iijj'] = wasmExports['wa'])(a0, a1, a2, a3, a4, a5));\n\n    var dynCall_vijj = (Module['dynCall_vijj'] = (a0, a1, a2, a3, a4, a5) =>\n      (dynCall_vijj = Module['dynCall_vijj'] = wasmExports['xa'])(a0, a1, a2, a3, a4, a5));\n\n    var dynCall_jiii = (Module['dynCall_jiii'] = (a0, a1, a2, a3) =>\n      (dynCall_jiii = Module['dynCall_jiii'] = wasmExports['ya'])(a0, a1, a2, a3));\n\n    var dynCall_jii = (Module['dynCall_jii'] = (a0, a1, a2) =>\n      (dynCall_jii = Module['dynCall_jii'] = wasmExports['za'])(a0, a1, a2));\n\n    var dynCall_viiij = (Module['dynCall_viiij'] = (a0, a1, a2, a3, a4, a5) =>\n      (dynCall_viiij = Module['dynCall_viiij'] = wasmExports['Aa'])(a0, a1, a2, a3, a4, a5));\n\n    var dynCall_jiji = (Module['dynCall_jiji'] = (a0, a1, a2, a3, a4) =>\n      (dynCall_jiji = Module['dynCall_jiji'] = wasmExports['Ba'])(a0, a1, a2, a3, a4));\n\n    var dynCall_viijii = (Module['dynCall_viijii'] = (a0, a1, a2, a3, a4, a5, a6) =>\n      (dynCall_viijii = Module['dynCall_viijii'] = wasmExports['Ca'])(a0, a1, a2, a3, a4, a5, a6));\n\n    var dynCall_iiiiij = (Module['dynCall_iiiiij'] = (a0, a1, a2, a3, a4, a5, a6) =>\n      (dynCall_iiiiij = Module['dynCall_iiiiij'] = wasmExports['Da'])(a0, a1, a2, a3, a4, a5, a6));\n\n    var dynCall_iiiiijj = (Module['dynCall_iiiiijj'] = (a0, a1, a2, a3, a4, a5, a6, a7, a8) =>\n      (dynCall_iiiiijj = Module['dynCall_iiiiijj'] = wasmExports['Ea'])(a0, a1, a2, a3, a4, a5, a6, a7, a8));\n\n    var dynCall_iiiiiijj = (Module['dynCall_iiiiiijj'] = (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) =>\n      (dynCall_iiiiiijj = Module['dynCall_iiiiiijj'] = wasmExports['Fa'])(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9));\n\n    function invoke_vi(index, a1) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_iiiii(index, a1, a2, a3, a4) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_vii(index, a1, a2) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_viii(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_ii(index, a1) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_viiiii(index, a1, a2, a3, a4, a5) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_v(index) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)();\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_iiiiiiii(index, a1, a2, a3, a4, a5, a6, a7) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_viiii(index, a1, a2, a3, a4) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_iiiiii(index, a1, a2, a3, a4, a5) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4, a5);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_iiii(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_iii(index, a1, a2) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_viiiiii(index, a1, a2, a3, a4, a5, a6) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_viiij(index, a1, a2, a3, a4, a5) {\n      var sp = stackSave();\n      try {\n        dynCall_viiij(index, a1, a2, a3, a4, a5);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    var calledRun;\n\n    dependenciesFulfilled = function runCaller() {\n      if (!calledRun) run();\n      if (!calledRun) dependenciesFulfilled = runCaller;\n    };\n\n    function run() {\n      if (runDependencies > 0) {\n        return;\n      }\n      preRun();\n      if (runDependencies > 0) {\n        return;\n      }\n      function doRun() {\n        if (calledRun) return;\n        calledRun = true;\n        Module['calledRun'] = true;\n        if (ABORT) return;\n        initRuntime();\n        readyPromiseResolve(Module);\n        if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n        postRun();\n      }\n      if (Module['setStatus']) {\n        Module['setStatus']('Running...');\n        setTimeout(function () {\n          setTimeout(function () {\n            Module['setStatus']('');\n          }, 1);\n          doRun();\n        }, 1);\n      } else {\n        doRun();\n      }\n    }\n\n    if (Module['preInit']) {\n      if (typeof Module['preInit'] == 'function') Module['preInit'] = [Module['preInit']];\n      while (Module['preInit'].length > 0) {\n        Module['preInit'].pop()();\n      }\n    }\n\n    run();\n\n    return readyPromise;\n  };\n})();\nexport default createDotLottiePlayerModule;\n","import pkg from '../../package.json';\n\nimport createDotLottiePlayerModule from './dotlottie-player';\nimport type { MainModule } from './dotlottie-player.types';\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class DotLottieWasmLoader {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  private static _ModulePromise: Promise<MainModule> | null = null;\n\n  // URL for the WASM file, constructed using package information\n  private static _wasmURL = `https://cdn.jsdelivr.net/npm/${pkg.name}@${pkg.version}/dist/dotlottie-player.wasm`;\n\n  private constructor() {\n    throw new Error('RendererLoader is a static class and cannot be instantiated.');\n  }\n\n  private static async _tryLoad(url: string): Promise<MainModule> {\n    const module = await createDotLottiePlayerModule({ locateFile: () => url });\n\n    return module;\n  }\n\n  /**\n   * Tries to load the WASM module from the primary URL, falling back to a backup URL if necessary.\n   * Throws an error if both URLs fail to load the module.\n   * @returns Promise<Module> - A promise that resolves to the loaded module.\n   */\n  private static async _loadWithBackup(): Promise<MainModule> {\n    if (!this._ModulePromise) {\n      this._ModulePromise = this._tryLoad(this._wasmURL).catch(async (initialError): Promise<MainModule> => {\n        const backupUrl = `https://unpkg.com/${pkg.name}@${pkg.version}/dist/dotlottie-player.wasm`;\n\n        console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${(initialError as Error).message}`);\n        console.warn(`Attempting to load WASM from backup URL: ${backupUrl}`);\n\n        try {\n          return await this._tryLoad(backupUrl);\n        } catch (backupError) {\n          console.error(`Primary WASM URL failed: ${(initialError as Error).message}`);\n          console.error(`Backup WASM URL failed: ${(backupError as Error).message}`);\n          throw new Error('WASM loading failed from all sources.');\n        }\n      });\n    }\n\n    return this._ModulePromise;\n  }\n\n  /**\n   * Public method to load the WebAssembly module.\n   * Utilizes a primary and backup URL for robustness.\n   * @returns Promise<Module> - A promise that resolves to the loaded module.\n   */\n  public static async load(): Promise<MainModule> {\n    return this._loadWithBackup();\n  }\n\n  /**\n   * Sets a new URL for the WASM file and invalidates the current module promise.\n   *\n   * @param string -  The new URL for the WASM file.\n   */\n  public static setWasmUrl(url: string): void {\n    this._wasmURL = url;\n    // Invalidate current module promise\n    this._ModulePromise = null;\n  }\n}\n","/**\n * Represents the different types of events that can be dispatched.\n */\nexport type EventType =\n  | 'complete'\n  | 'frame'\n  | 'load'\n  | 'loadError'\n  | 'loop'\n  | 'pause'\n  | 'play'\n  | 'stop'\n  | 'destroy'\n  | 'freeze'\n  | 'unfreeze'\n  | 'render';\n\n/**\n * Maps an event type string to its respective event interface.\n */\ntype EventByType<T> = T extends 'complete'\n  ? CompleteEvent\n  : T extends 'frame'\n  ? FrameEvent\n  : T extends 'load'\n  ? LoadEvent\n  : T extends 'loadError'\n  ? LoadErrorEvent\n  : T extends 'loop'\n  ? LoopEvent\n  : T extends 'pause'\n  ? PauseEvent\n  : T extends 'play'\n  ? PlayEvent\n  : T extends 'stop'\n  ? StopEvent\n  : T extends 'destroy'\n  ? DestroyEvent\n  : T extends 'freeze'\n  ? FreezeEvent\n  : T extends 'unfreeze'\n  ? UnfreezeEvent\n  : T extends 'render'\n  ? RenderEvent\n  : never;\n\n/**\n * Base interface for all events.\n */\nexport interface BaseEvent {\n  type: EventType;\n}\n\nexport interface RenderEvent extends BaseEvent {\n  currentFrame: number;\n  type: 'render';\n}\n\nexport interface FreezeEvent extends BaseEvent {\n  type: 'freeze';\n}\n\nexport interface UnfreezeEvent extends BaseEvent {\n  type: 'unfreeze';\n}\n\n/*\n * Event fired when a destroy action occurs.\n */\nexport interface DestroyEvent extends BaseEvent {\n  type: 'destroy';\n}\n\n/**\n * Event fired when a loop action occurs.\n */\nexport interface LoopEvent extends BaseEvent {\n  loopCount: number;\n  type: 'loop';\n}\n\n/**\n * Event fired during frame changes.\n */\nexport interface FrameEvent extends BaseEvent {\n  currentFrame: number;\n  type: 'frame';\n}\n\n/**\n * Event fired when a load action occurs.\n */\nexport interface LoadEvent extends BaseEvent {\n  type: 'load';\n}\n\n/**\n * Event fired when a loading error occurs.\n */\nexport interface LoadErrorEvent extends BaseEvent {\n  error: Error;\n  type: 'loadError';\n}\n\n/**\n * Event fired when a completion action occurs.\n */\nexport interface CompleteEvent extends BaseEvent {\n  type: 'complete';\n}\n\n/**\n * Event fired when a pause action occurs.\n */\nexport interface PauseEvent extends BaseEvent {\n  type: 'pause';\n}\n\n/**\n * Event fired when a play action occurs.\n */\nexport interface PlayEvent extends BaseEvent {\n  type: 'play';\n}\n\n/**\n * Event fired when a stop action occurs.\n */\nexport interface StopEvent extends BaseEvent {\n  type: 'stop';\n}\n\n/**\n * Represents all possible event types.\n */\nexport type Event =\n  | LoopEvent\n  | FrameEvent\n  | LoadEvent\n  | LoadErrorEvent\n  | CompleteEvent\n  | PauseEvent\n  | PlayEvent\n  | StopEvent;\n\n/**\n * Type for event listener callbacks.\n */\nexport interface EventListener<T extends EventType> {\n  (event: EventByType<T>): void;\n}\n\n/**\n * Manages registration and dispatching of event listeners.\n */\nexport class EventManager {\n  private readonly _eventListeners: Map<EventType, Set<EventListener<EventType>>> = new Map();\n\n  public addEventListener<T extends EventType>(type: T, listener: EventListener<T>): void {\n    let listeners = this._eventListeners.get(type);\n\n    if (!listeners) {\n      listeners = new Set<EventListener<T>>();\n      this._eventListeners.set(type, listeners);\n    }\n\n    listeners.add(listener);\n  }\n\n  public removeEventListener<T extends EventType>(type: T, listener?: EventListener<T>): void {\n    const listeners = this._eventListeners.get(type);\n\n    if (!listeners) return;\n\n    if (listener) {\n      listeners.delete(listener);\n\n      if (listeners.size === 0) {\n        this._eventListeners.delete(type);\n      }\n    } else {\n      this._eventListeners.delete(type);\n    }\n  }\n\n  public dispatch<T extends EventType>(event: EventByType<T>): void {\n    const listeners = this._eventListeners.get(event.type);\n\n    listeners?.forEach((listener) => listener(event));\n  }\n\n  public removeAllEventListeners(): void {\n    this._eventListeners.clear();\n  }\n}\n","import { AnimationFrameManager } from './animation-frame-manager';\nimport { IS_BROWSER } from './constants';\nimport type { DotLottiePlayer, MainModule, Mode as CoreMode, VectorFloat, Marker, Fit as CoreFit } from './core';\nimport { DotLottieWasmLoader } from './core';\nimport type { EventListener, EventType } from './event-manager';\nimport { EventManager } from './event-manager';\n\nexport interface RenderConfig {\n  devicePixelRatio?: number;\n}\n\nexport type Mode = 'forward' | 'reverse' | 'bounce' | 'reverse-bounce';\n\nexport type Data = string | ArrayBuffer | Record<string, unknown>;\n\nexport type Fit = 'contain' | 'cover' | 'fill' | 'none' | 'fit-width' | 'fit-height';\n\nexport interface Layout {\n  align: [number, number];\n  fit: Fit;\n}\n\nexport interface Config {\n  autoplay?: boolean;\n  backgroundColor?: string;\n  canvas: HTMLCanvasElement;\n  data?: Data;\n  layout?: Layout;\n  loop?: boolean;\n  marker?: string;\n  mode?: Mode;\n  renderConfig?: RenderConfig;\n  segment?: [number, number];\n  speed?: number;\n  src?: string;\n  useFrameInterpolation?: boolean;\n}\n\nexport interface Manifest {\n  activeAnimationId?: string;\n  animations: Array<{\n    autoplay?: boolean;\n    defaultTheme?: string;\n    direction?: 1 | -1;\n    hover?: boolean;\n    id: string;\n    intermission?: number;\n    loop?: boolean | number;\n    playMode?: 'bounce' | 'normal';\n    speed?: number;\n    themeColor?: string;\n  }>;\n  author?: string;\n  custom?: Record<string, unknown>;\n  description?: string;\n  generator?: string;\n  keywords?: string;\n  revision?: number;\n  states?: string[];\n  themes?: Array<{ animations: string[]; id: string }>;\n  version?: string;\n}\n\nconst createCoreMode = (mode: Mode, module: MainModule): CoreMode => {\n  if (mode === 'reverse') {\n    return module.Mode.Reverse;\n  } else if (mode === 'bounce') {\n    return module.Mode.Bounce;\n  } else if (mode === 'reverse-bounce') {\n    return module.Mode.ReverseBounce;\n  } else {\n    return module.Mode.Forward;\n  }\n};\n\nconst createCoreFit = (fit: Fit, module: MainModule): CoreFit => {\n  if (fit === 'contain') {\n    return module.Fit.Contain;\n  } else if (fit === 'cover') {\n    return module.Fit.Cover;\n  } else if (fit === 'fill') {\n    return module.Fit.Fill;\n  } else if (fit === 'fit-height') {\n    return module.Fit.FitHeight;\n  } else if (fit === 'fit-width') {\n    return module.Fit.FitWidth;\n  } else {\n    return module.Fit.None;\n  }\n};\n\nconst createCoreAlign = (align: [number, number], module: MainModule): VectorFloat => {\n  const coreAlign = new module.VectorFloat();\n\n  coreAlign.push_back(align[0]);\n  coreAlign.push_back(align[1]);\n\n  return coreAlign;\n};\n\nconst createCoreSegment = (segment: number[], module: MainModule): VectorFloat => {\n  const coresegment = new module.VectorFloat();\n\n  if (segment.length !== 2) return coresegment;\n\n  coresegment.push_back(segment[0] as number);\n  coresegment.push_back(segment[1] as number);\n\n  return coresegment;\n};\n\nexport class DotLottie {\n  private readonly _canvas: HTMLCanvasElement | OffscreenCanvas;\n\n  private _context: CanvasRenderingContext2D | null;\n\n  private readonly _eventManager: EventManager;\n\n  private _animationFrameId: number | null = null;\n\n  private readonly _frameManager: AnimationFrameManager;\n\n  private _dotLottieCore: DotLottiePlayer | null = null;\n\n  private _wasmModule: MainModule | null = null;\n\n  private _renderConfig: RenderConfig = {};\n\n  private _isFrozen: boolean = false;\n\n  private _backgroundColor: string | null = null;\n\n  public constructor(config: Config) {\n    this._canvas = config.canvas;\n    this._context = this._canvas.getContext('2d');\n    this._eventManager = new EventManager();\n    this._frameManager = new AnimationFrameManager();\n    this._renderConfig = config.renderConfig ?? {};\n\n    DotLottieWasmLoader.load()\n      .then((module) => {\n        this._wasmModule = module;\n\n        this._dotLottieCore = new module.DotLottiePlayer({\n          autoplay: config.autoplay ?? false,\n          backgroundColor: 0,\n          loopAnimation: config.loop ?? false,\n          mode: createCoreMode(config.mode ?? 'forward', module),\n          segment: createCoreSegment(config.segment ?? [], module),\n          speed: config.speed ?? 1,\n          useFrameInterpolation: config.useFrameInterpolation ?? true,\n          marker: config.marker ?? '',\n          layout: config.layout\n            ? {\n                align: createCoreAlign(config.layout.align, module),\n                fit: createCoreFit(config.layout.fit, module),\n              }\n            : module.createDefaultLayout(),\n        });\n\n        if (config.data) {\n          this._loadFromData(config.data);\n        } else if (config.src) {\n          this._loadFromSrc(config.src);\n        }\n\n        if (config.backgroundColor) {\n          this.setBackgroundColor(config.backgroundColor);\n        }\n      })\n      .catch((error) => {\n        this._eventManager.dispatch({\n          type: 'loadError',\n          error: new Error(`Failed to load wasm module: ${error}`),\n        });\n      });\n  }\n\n  private _loadFromSrc(src: string): void {\n    async function load(): Promise<string | ArrayBuffer> {\n      const response = await fetch(src);\n\n      if (!response.ok) {\n        throw new Error(\n          `Failed to fetch the animation data from URL: ${src}. ${response.status}: ${response.statusText}`,\n        );\n      }\n\n      const contentType = (response.headers.get('content-type') ?? '').trim();\n\n      let data: string | ArrayBuffer;\n\n      if (['application/json', 'text/plain'].some((type) => contentType.startsWith(type))) {\n        data = await response.text();\n      } else {\n        data = await response.arrayBuffer();\n      }\n\n      return data;\n    }\n\n    load()\n      .then((data) => {\n        this._loadFromData(data);\n      })\n      .catch((error) => {\n        this._eventManager.dispatch({\n          type: 'loadError',\n          error: new Error(`Failed to load animation data from URL: ${src}. ${error}`),\n        });\n      });\n  }\n\n  private _loadFromData(data: Data): void {\n    if (this._dotLottieCore === null) return;\n\n    const width = this._canvas.width;\n    const height = this._canvas.height;\n\n    let loaded = false;\n\n    if (typeof data === 'string') {\n      loaded = this._dotLottieCore.loadAnimationData(data, width, height);\n    } else if (data instanceof ArrayBuffer) {\n      loaded = this._dotLottieCore.loadDotLottieData(data, width, height);\n    } else if (typeof data === 'object') {\n      loaded = this._dotLottieCore.loadAnimationData(JSON.stringify(data), width, height);\n    } else {\n      this._eventManager.dispatch({\n        type: 'loadError',\n        error: new Error('Unsupported data type for animation data. Expected a string or ArrayBuffer.'),\n      });\n\n      return;\n    }\n\n    if (loaded) {\n      this._eventManager.dispatch({ type: 'load' });\n\n      if (IS_BROWSER) {\n        this.resize();\n      }\n\n      this._eventManager.dispatch({\n        type: 'frame',\n        currentFrame: this._dotLottieCore.currentFrame(),\n      });\n\n      this._render();\n\n      if (this._dotLottieCore.config().autoplay) {\n        this._dotLottieCore.play();\n        if (this._dotLottieCore.isPlaying()) {\n          this._eventManager.dispatch({ type: 'play' });\n          this._animationFrameId = this._frameManager.requestAnimationFrame(this._draw.bind(this));\n        } else {\n          console.error('something went wrong, the animation was suppose to autoplay');\n        }\n      }\n    } else {\n      this._eventManager.dispatch({\n        type: 'loadError',\n        error: new Error('Failed to load animation data'),\n      });\n    }\n  }\n\n  public get activeAnimationId(): string | undefined {\n    return this._dotLottieCore?.activeAnimationId();\n  }\n\n  public get activeThemeId(): string | undefined {\n    return this._dotLottieCore?.activeThemeId();\n  }\n\n  public get layout(): Layout | undefined {\n    const layout = this._dotLottieCore?.config().layout;\n\n    if (layout) {\n      return {\n        align: [layout.align.get(0) as number, layout.align.get(1) as number],\n        fit: ((): Fit => {\n          switch (layout.fit) {\n            case this._wasmModule?.Fit.Contain:\n              return 'contain';\n\n            case this._wasmModule?.Fit.Cover:\n              return 'cover';\n\n            case this._wasmModule?.Fit.Fill:\n              return 'fill';\n\n            case this._wasmModule?.Fit.FitHeight:\n              return 'fit-height';\n\n            case this._wasmModule?.Fit.FitWidth:\n              return 'fit-width';\n\n            case this._wasmModule?.Fit.None:\n              return 'none';\n\n            default:\n              return 'contain';\n          }\n        })(),\n      };\n    }\n\n    return undefined;\n  }\n\n  public get marker(): string | undefined {\n    const marker = this._dotLottieCore?.config().marker as string | undefined;\n\n    return marker;\n  }\n\n  public get manifest(): Manifest | null {\n    try {\n      const manifest = this._dotLottieCore?.manifestString();\n\n      if (this._dotLottieCore === null || !manifest) return null;\n\n      const manifestJson = JSON.parse(manifest);\n\n      if (Object.keys(manifestJson).length === 0) return null;\n\n      return manifestJson as Manifest;\n    } catch (_err) {\n      return null;\n    }\n  }\n\n  public get renderConfig(): RenderConfig {\n    return this._renderConfig;\n  }\n\n  public get segment(): [number, number] | undefined {\n    const segment = this._dotLottieCore?.config().segment;\n\n    if (segment && segment.size() === 2) {\n      return [segment.get(0) as number, segment.get(1) as number];\n    }\n\n    return undefined;\n  }\n\n  public get loop(): boolean {\n    return this._dotLottieCore?.config().loopAnimation ?? false;\n  }\n\n  public get mode(): Mode {\n    const mode = this._dotLottieCore?.config().mode;\n\n    if (mode === this._wasmModule?.Mode.Reverse) {\n      return 'reverse';\n    } else if (mode === this._wasmModule?.Mode.Bounce) {\n      return 'bounce';\n    } else if (mode === this._wasmModule?.Mode.ReverseBounce) {\n      return 'reverse-bounce';\n    } else {\n      return 'forward';\n    }\n  }\n\n  public get isFrozen(): boolean {\n    return this._isFrozen;\n  }\n\n  public get backgroundColor(): string {\n    return this._backgroundColor ?? '';\n  }\n\n  public get autoplay(): boolean {\n    return this._dotLottieCore?.config().autoplay ?? false;\n  }\n\n  public get useFrameInterpolation(): boolean {\n    return this._dotLottieCore?.config().useFrameInterpolation ?? false;\n  }\n\n  public get speed(): number {\n    return this._dotLottieCore?.config().speed ?? 0;\n  }\n\n  public get isLoaded(): boolean {\n    return this._dotLottieCore?.isLoaded() ?? false;\n  }\n\n  public get isPlaying(): boolean {\n    return this._dotLottieCore?.isPlaying() ?? false;\n  }\n\n  public get isPaused(): boolean {\n    return this._dotLottieCore?.isPaused() ?? false;\n  }\n\n  public get isStopped(): boolean {\n    return this._dotLottieCore?.isStopped() ?? false;\n  }\n\n  public get currentFrame(): number {\n    return this._dotLottieCore?.currentFrame() ?? 0;\n  }\n\n  public get loopCount(): number {\n    return this._dotLottieCore?.loopCount() ?? 0;\n  }\n\n  public get totalFrames(): number {\n    return this._dotLottieCore?.totalFrames() ?? 0;\n  }\n\n  public get duration(): number {\n    return this._dotLottieCore?.duration() ?? 0;\n  }\n\n  public get segmentDuration(): number {\n    return this._dotLottieCore?.segmentDuration() ?? 0;\n  }\n\n  public get canvas(): HTMLCanvasElement | OffscreenCanvas {\n    return this._canvas;\n  }\n\n  public load(config: Omit<Config, 'canvas'>): void {\n    if (this._dotLottieCore === null || this._wasmModule === null) return;\n\n    this._dotLottieCore.setConfig({\n      autoplay: config.autoplay ?? false,\n      backgroundColor: 0,\n      loopAnimation: config.loop ?? false,\n      mode: createCoreMode(config.mode ?? 'forward', this._wasmModule),\n      segment: createCoreSegment(config.segment ?? [], this._wasmModule),\n      speed: config.speed ?? 1,\n      useFrameInterpolation: config.useFrameInterpolation ?? true,\n      marker: config.marker ?? '',\n      layout: config.layout\n        ? {\n            align: createCoreAlign(config.layout.align, this._wasmModule),\n            fit: createCoreFit(config.layout.fit, this._wasmModule),\n          }\n        : this._wasmModule.createDefaultLayout(),\n    });\n\n    if (config.data) {\n      this._loadFromData(config.data);\n    } else if (config.src) {\n      this._loadFromSrc(config.src);\n    }\n\n    this.setBackgroundColor(config.backgroundColor ?? '');\n  }\n\n  private _render(): boolean {\n    if (this._dotLottieCore === null || this._context === null) return false;\n\n    const rendered = this._dotLottieCore.render();\n\n    if (rendered) {\n      const buffer = this._dotLottieCore.buffer() as Uint8Array;\n      const clampedBuffer = new Uint8ClampedArray(buffer, 0, this._canvas.width * this._canvas.height * 4);\n\n      let imageData = null;\n\n      /* \n        In Node.js, the ImageData constructor is not available. \n        You can use createImageData function in the canvas context to create ImageData object.\n      */\n      if (typeof ImageData === 'undefined') {\n        imageData = this._context.createImageData(this._canvas.width, this._canvas.height);\n        imageData.data.set(clampedBuffer);\n      } else {\n        imageData = new ImageData(clampedBuffer, this._canvas.width, this._canvas.height);\n      }\n\n      this._context.putImageData(imageData, 0, 0);\n\n      this._eventManager.dispatch({\n        type: 'render',\n        currentFrame: this._dotLottieCore.currentFrame(),\n      });\n\n      return true;\n    }\n\n    return false;\n  }\n\n  private _draw(): void {\n    if (this._dotLottieCore === null || this._context === null || !this._dotLottieCore.isPlaying()) return;\n\n    const nextFrame = this._dotLottieCore.requestFrame();\n\n    const updated = this._dotLottieCore.setFrame(nextFrame);\n\n    if (updated) {\n      this._eventManager.dispatch({\n        type: 'frame',\n        currentFrame: this._dotLottieCore.currentFrame(),\n      });\n\n      const rendered = this._render();\n\n      if (rendered) {\n        // handle loop or complete\n        if (this._dotLottieCore.isComplete()) {\n          if (this._dotLottieCore.config().loopAnimation) {\n            this._eventManager.dispatch({\n              type: 'loop',\n              loopCount: this._dotLottieCore.loopCount(),\n            });\n          } else {\n            this._eventManager.dispatch({ type: 'complete' });\n          }\n        }\n      }\n    }\n\n    this._animationFrameId = this._frameManager.requestAnimationFrame(this._draw.bind(this));\n  }\n\n  public play(): void {\n    if (this._dotLottieCore === null) return;\n\n    const ok = this._dotLottieCore.play();\n\n    this._isFrozen = false;\n\n    if (ok) {\n      this._eventManager.dispatch({ type: 'play' });\n      this._animationFrameId = this._frameManager.requestAnimationFrame(this._draw.bind(this));\n    }\n  }\n\n  public pause(): void {\n    if (this._dotLottieCore === null) return;\n\n    const ok = this._dotLottieCore.pause();\n\n    if (ok) {\n      this._eventManager.dispatch({ type: 'pause' });\n    }\n  }\n\n  public stop(): void {\n    if (this._dotLottieCore === null) return;\n\n    const ok = this._dotLottieCore.stop();\n\n    if (ok) {\n      this._eventManager.dispatch({ type: 'frame', currentFrame: this._dotLottieCore.currentFrame() });\n\n      this._render();\n\n      this._eventManager.dispatch({ type: 'stop' });\n    }\n  }\n\n  public setFrame(frame: number): void {\n    if (this._dotLottieCore === null) return;\n\n    if (frame < 0 || frame > this._dotLottieCore.totalFrames()) return;\n\n    const ok = this._dotLottieCore.seek(frame);\n\n    if (ok) {\n      this._eventManager.dispatch({ type: 'frame', currentFrame: this._dotLottieCore.currentFrame() });\n\n      this._render();\n    }\n  }\n\n  public setSpeed(speed: number): void {\n    if (this._dotLottieCore === null) return;\n\n    this._dotLottieCore.setConfig({\n      ...this._dotLottieCore.config(),\n      speed,\n    });\n  }\n\n  public setBackgroundColor(color: string): void {\n    if (this._dotLottieCore === null) return;\n\n    if (this._canvas instanceof HTMLCanvasElement) {\n      this._canvas.style.backgroundColor = color;\n    }\n\n    this._backgroundColor = color;\n  }\n\n  public setLoop(loop: boolean): void {\n    if (this._dotLottieCore === null) return;\n\n    this._dotLottieCore.setConfig({\n      ...this._dotLottieCore.config(),\n      loopAnimation: loop,\n    });\n  }\n\n  public setUseFrameInterpolation(useFrameInterpolation: boolean): void {\n    if (this._dotLottieCore === null) return;\n\n    this._dotLottieCore.setConfig({\n      ...this._dotLottieCore.config(),\n      useFrameInterpolation,\n    });\n  }\n\n  public addEventListener<T extends EventType>(type: T, listener: EventListener<T>): void {\n    this._eventManager.addEventListener(type, listener);\n  }\n\n  public removeEventListener<T extends EventType>(type: T, listener?: EventListener<T>): void {\n    this._eventManager.removeEventListener(type, listener);\n  }\n\n  public destroy(): void {\n    this._dotLottieCore?.delete();\n    this._dotLottieCore = null;\n    this._context = null;\n\n    this._eventManager.dispatch({\n      type: 'destroy',\n    });\n\n    this._eventManager.removeAllEventListeners();\n    this._cleanupStateMachineListeners();\n  }\n\n  public freeze(): void {\n    if (this._animationFrameId === null) return;\n\n    this._frameManager.cancelAnimationFrame(this._animationFrameId);\n    this._animationFrameId = null;\n\n    this._isFrozen = true;\n\n    this._eventManager.dispatch({ type: 'freeze' });\n  }\n\n  public unfreeze(): void {\n    if (this._animationFrameId !== null) return;\n\n    this._animationFrameId = this._frameManager.requestAnimationFrame(this._draw.bind(this));\n\n    this._isFrozen = false;\n\n    this._eventManager.dispatch({ type: 'unfreeze' });\n  }\n\n  public resize(): void {\n    if (IS_BROWSER && this._canvas instanceof HTMLCanvasElement) {\n      const dpr = this._renderConfig.devicePixelRatio || window.devicePixelRatio || 1;\n\n      const { height: clientHeight, width: clientWidth } = this._canvas.getBoundingClientRect();\n\n      this._canvas.width = clientWidth * dpr;\n      this._canvas.height = clientHeight * dpr;\n    }\n\n    const ok = this._dotLottieCore?.resize(this._canvas.width, this._canvas.height);\n\n    if (ok) {\n      this._render();\n    }\n  }\n\n  public setSegment(startFrame: number, endFrame: number): void {\n    if (this._dotLottieCore === null || this._wasmModule === null) return;\n\n    this._dotLottieCore.setConfig({\n      ...this._dotLottieCore.config(),\n      segment: createCoreSegment([startFrame, endFrame], this._wasmModule),\n    });\n  }\n\n  public setMode(mode: Mode): void {\n    if (this._dotLottieCore === null || this._wasmModule === null) return;\n\n    this._dotLottieCore.setConfig({\n      ...this._dotLottieCore.config(),\n      mode: createCoreMode(mode, this._wasmModule),\n    });\n  }\n\n  public setRenderConfig(config: RenderConfig): void {\n    this._renderConfig = config;\n  }\n\n  public loadAnimation(animationId: string): void {\n    if (this._dotLottieCore === null) return;\n\n    const loaded = this._dotLottieCore.loadAnimation(animationId, this._canvas.width, this._canvas.height);\n\n    if (loaded) {\n      this._eventManager.dispatch({ type: 'load' });\n      this.resize();\n    } else {\n      this._eventManager.dispatch({\n        type: 'loadError',\n        error: new Error(`Failed to animation :${animationId}`),\n      });\n    }\n  }\n\n  public setMarker(marker: string): void {\n    if (this._dotLottieCore === null) return;\n\n    this._dotLottieCore.setConfig({\n      ...this._dotLottieCore.config(),\n      marker,\n    });\n  }\n\n  public markers(): Marker[] {\n    const markers = this._dotLottieCore?.markers();\n\n    if (markers) {\n      const result: Marker[] = [];\n\n      for (let i = 0; i < markers.size(); i += 1) {\n        const marker = markers.get(i) as Marker;\n\n        result.push({\n          name: marker.name,\n          time: marker.time,\n          duration: marker.duration,\n        });\n      }\n\n      return result;\n    }\n\n    return [];\n  }\n\n  public loadTheme(themeId: string): boolean {\n    if (this._dotLottieCore === null) return false;\n\n    const loaded = this._dotLottieCore.loadTheme(themeId);\n\n    this._render();\n\n    return loaded;\n  }\n\n  public loadThemeData(themeData: string): boolean {\n    if (this._dotLottieCore === null) return false;\n\n    const loaded = this._dotLottieCore.loadThemeData(themeData);\n\n    this._render();\n\n    return loaded;\n  }\n\n  public setLayout(layout: Layout): void {\n    if (this._dotLottieCore === null || this._wasmModule === null) return;\n\n    this._dotLottieCore.setConfig({\n      ...this._dotLottieCore.config(),\n      layout: {\n        align: createCoreAlign(layout.align, this._wasmModule),\n        fit: createCoreFit(layout.fit, this._wasmModule),\n      },\n    });\n  }\n\n  public setViewport(x: number, y: number, width: number, height: number): boolean {\n    if (this._dotLottieCore === null) return false;\n\n    return this._dotLottieCore.setViewport(x, y, width, height);\n  }\n\n  public static setWasmUrl(url: string): void {\n    DotLottieWasmLoader.setWasmUrl(url);\n  }\n\n  public loadStateMachine(stateMachineId: string): boolean {\n    return this._dotLottieCore?.loadStateMachine(stateMachineId) ?? false;\n  }\n\n  public startStateMachine(): boolean {\n    const started = this._dotLottieCore?.startStateMachine() ?? false;\n\n    if (started) {\n      this._setupStateMachineListeners();\n    }\n\n    return started;\n  }\n\n  public stopStateMachine(): boolean {\n    const stopped = this._dotLottieCore?.stopStateMachine() ?? false;\n\n    if (stopped) {\n      this._cleanupStateMachineListeners();\n    }\n\n    return stopped;\n  }\n\n  private _getPointerPosition(event: PointerEvent): { x: number; y: number } {\n    const rect = (this._canvas as HTMLCanvasElement).getBoundingClientRect();\n    const scaleX = this._canvas.width / rect.width;\n    const scaleY = this._canvas.height / rect.height;\n\n    const devicePixelRatio = this._renderConfig.devicePixelRatio || window.devicePixelRatio || 1;\n    const x = ((event.clientX - rect.left) * scaleX) / devicePixelRatio;\n    const y = ((event.clientY - rect.top) * scaleY) / devicePixelRatio;\n\n    return {\n      x,\n      y,\n    };\n  }\n\n  private _onPointerUp(event: PointerEvent): void {\n    const { x, y } = this._getPointerPosition(event);\n\n    this.postStateMachineEvent(`OnPointerUp: ${x} ${y}`);\n  }\n\n  private _onPointerDown(event: PointerEvent): void {\n    const { x, y } = this._getPointerPosition(event);\n\n    this.postStateMachineEvent(`OnPointerDown: ${x} ${y}`);\n  }\n\n  private _onPointerMove(event: PointerEvent): void {\n    const { x, y } = this._getPointerPosition(event);\n\n    this.postStateMachineEvent(`OnPointerMove: ${x} ${y}`);\n  }\n\n  private _onPointerEnter(event: PointerEvent): void {\n    const { x, y } = this._getPointerPosition(event);\n\n    this.postStateMachineEvent(`OnPointerEnter: ${x} ${y}`);\n  }\n\n  private _onPointerLeave(event: PointerEvent): void {\n    const { x, y } = this._getPointerPosition(event);\n\n    this.postStateMachineEvent(`OnPointerExit: ${x} ${y}`);\n  }\n\n  private _onComplete(): void {\n    this.postStateMachineEvent('OnComplete');\n  }\n\n  /**\n   * @experimental\n   * @param event - The event to be posted to the state machine\n   * @returns boolean - true if the event was posted successfully, false otherwise\n   */\n  public postStateMachineEvent(event: string): boolean {\n    return this._dotLottieCore?.postEventPayload(event) ?? false;\n  }\n\n  private _setupStateMachineListeners(): void {\n    if (this._canvas instanceof HTMLCanvasElement && this._dotLottieCore !== null && this.isLoaded) {\n      const listenersVector = this._dotLottieCore.stateMachineFrameworkSetup();\n\n      const listeners = [];\n\n      for (let i = 0; i < listenersVector.size(); i += 1) {\n        listeners.push(listenersVector.get(i));\n      }\n\n      if (listeners.includes('PointerUp')) {\n        this._canvas.addEventListener('pointerup', this._onPointerUp.bind(this));\n      }\n\n      if (listeners.includes('PointerDown')) {\n        this._canvas.addEventListener('pointerdown', this._onPointerDown.bind(this));\n      }\n\n      if (listeners.includes('PointerMove')) {\n        this._canvas.addEventListener('pointermove', this._onPointerMove.bind(this));\n      }\n\n      if (listeners.includes('PointerEnter')) {\n        this._canvas.addEventListener('pointerenter', this._onPointerEnter.bind(this));\n      }\n\n      if (listeners.includes('PointerExit')) {\n        this._canvas.addEventListener('pointerleave', this._onPointerLeave.bind(this));\n      }\n\n      if (listeners.includes('Complete')) {\n        this.addEventListener('complete', this._onComplete.bind(this));\n      }\n    }\n  }\n\n  private _cleanupStateMachineListeners(): void {\n    if (this._canvas instanceof HTMLCanvasElement) {\n      this._canvas.removeEventListener('pointerup', this._onPointerUp.bind(this));\n      this._canvas.removeEventListener('pointerdown', this._onPointerDown.bind(this));\n      this._canvas.removeEventListener('pointermove', this._onPointerMove.bind(this));\n      this._canvas.removeEventListener('pointerenter', this._onPointerEnter.bind(this));\n      this._canvas.removeEventListener('pointerleave', this._onPointerLeave.bind(this));\n      this.removeEventListener('complete', this._onComplete.bind(this));\n    }\n  }\n}\n"]}